(this.webpackJsonppaperscroll = this.webpackJsonppaperscroll || []).push([[0], Array(41).concat([function (e, t, a) {
    e.exports = a.p + "static/media/DismissRoundedIcon.23d70dc3.svg"
}
    , function (e, t, a) {
        e.exports = a.p + "static/media/CoinPrimaryIcon.90072d19.svg"
    }
    , , , , , , , , , , , , , function (e, t, a) {
        e.exports = a.p + "static/media/NavigationBackIcon.d7eea4b4.svg"
    }
    , , , , , , , function (e, t, a) {
        e.exports = a.p + "static/media/QuestionNegativeIcon.3c1fbf75.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/StarIcon.98bdff84.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/TransferIcon.5ad38ae1.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/HistoryIcon.7bd6b028.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/CameraIcon.d6d06a74.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/UsersGroupIcon.51a28be0.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/ShopMiniIcon.59e481b3.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/StoryMiniIcon.b9d2d2e7.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/AchievementMiniIcon.9ce603b0.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/InfoMiniIcon.59641fe9.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/NotifyMiniIcon.7dfa826f.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/MoneyOutlineIcon.e43f4151.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/NotifyWhiteIcon.802d416b.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/NavigationIcon.06cce535.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/Onboard.ea0c60e0.png"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/ShareIcon.736e7bfd.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/TransferMarketIcon.3aebdfe7.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/TransferAchievementIcon.1654d08d.svg"
    }
    , , function (e, t, a) {
        e.exports = a.p + "static/media/SnackbarSuccessIcon.1b8bfb97.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/SnackbarErrorIcon.6c07687d.svg"
    }
    , function (e, t, a) {
        e.exports = a.p + "static/media/SnackbarStarIcon.df289b1a.svg"
    }
    , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, a) {
        e.exports = a(216)
    }
    , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , , , , , , , , , , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , function (e, t, a) {
    }
    , , , function (e, t, a) {
        "use strict";
        a.r(t),
            a.d(t, "store", (function () {
                    return Ia
                }
            ));
        var n = a(0)
            , r = a.n(n)
            , i = a(32)
            , o = a.n(i)
            , c = a(22)
            , s = a(21)
            , l = a.n(s)
            , m = a(27)
            , u = a(9)
            , d = a(4)
            , p = a(5)
            , _ = a(8)
            , v = a(7)
            , f = a(6)
            , b = a(11)
            , h = a.n(b)
            , E = a(31)
            , g = a.n(E)
            , y = (a(173),
            a(218))
            , k = function () {
            function e() {
                Object(d.a)(this, e)
            }

            return Object(p.a)(e, null, [{
                key: "sleep",
                value: function (e) {
                    return new Promise((function (t) {
                            return setTimeout(t, e)
                        }
                    ))
                }
            }, {
                key: "round",
                value: function (e) {
                    return (Math.round(100 * e) / 100).toFixed(2)
                }
            }, {
                key: "rand",
                value: function (e, t) {
                    var a = e - .5 + Math.random() * (t - e + 1);
                    return Math.round(a)
                }
            }, {
                key: "randItem",
                value: function (t) {
                    return t[e.rand(0, t.length - 1)]
                }
            }, {
                key: "randFloat",
                value: function (e, t) {
                    t *= 100;
                    var a = (e *= 100) - .5 + Math.random() * (t - e + 1);
                    return Math.round(a) / 100
                }
            }, {
                key: "randEvent",
                value: function (t) {
                    return e.rand(0, 100) < t
                }
            }, {
                key: "declOfNum",
                value: function (e, t) {
                    return t[e % 100 > 4 && e % 100 < 20 ? 2 : [2, 0, 1, 1, 1, 2][e % 10 < 5 ? e % 10 : 5]]
                }
            }, {
                key: "formatNumber",
                value: function (e) {
                    return parseFloat(e).toLocaleString("ru-RU", {
                        maximumFractionDigits: 3
                    })
                }
            }, {
                key: "formatMainBalance",
                value: function (t) {
                    var a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
                    return e.roundFloat(t, !0).toLocaleString("ru-RU", {
                        maximumFractionDigits: a,
                        minimumFractionDigits: a
                    })
                }
            }, {
                key: "escapeNewLineToBeak",
                value: function (e) {
                    return e.split("\n").map((function (e, t) {
                            return 0 === t ? e : [r.a.createElement("br", {
                                key: t
                            }), e]
                        }
                    ))
                }
            }, {
                key: "roundInt",
                value: function (e) {
                    return isNaN(e) || "" === e ? 0 : Math.floor(e)
                }
            }, {
                key: "roundFloat",
                value: function (e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    return t ? parseFloat((Math.round(1e4 * e) / 1e4).toFixed(3)) : parseFloat((Math.round(100 * e) / 100).toFixed(2))
                }
            }, {
                key: "openLink",
                value: function (e) {
                    var t = document.createElement("a");
                    t.setAttribute("href", e),
                        t.setAttribute("rel", "noopener noreferrer"),
                        t.setAttribute("target", "_blank"),
                        t.dispatchEvent(new MouseEvent("click", {
                            view: window,
                            bubbles: !0,
                            cancelable: !0
                        }))
                }
            }, {
                key: "openVkCoinLink",
                value: function (t, a, n) {
                    e.openLink("https://vk.com/coin#x".concat(t, "_").concat(1e3 * a, "_").concat(n, "_1_").concat(e.rand(1, 1e3)))
                }
            }, {
                key: "getImageLink",
                value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "png";
                    return "https://paper-scroll.ru/static/images/".concat(e, ".").concat(t)
                }
            }, {
                key: "getEmojiLink",
                value: function (e, t) {
                    return "https://paper-scroll.ru/static/emojis/".concat(e, "_").concat(t, ".png")
                }
            }, {
                key: "getAchievementEmojiLink",
                value: function (e, t) {
                    return "https://paper-scroll.ru/static/achievements/".concat(e, "_").concat(t, ".png")
                }
            }, {
                key: "getEmojiPic",
                value: function (e, t) {
                    return r.a.createElement("img", {
                        src: "https://paper-scroll.ru/static/emojis/".concat(e, "_").concat(t, ".png"),
                        alt: ""
                    })
                }
            }, {
                key: "scrollToBottom",
                value: function () {
                    var e = document.body.firstElementChild.scrollHeight - document.body.firstElementChild.clientHeight;
                    document.body.firstElementChild.scrollTop = e > 0 ? e : 0
                }
            }, {
                key: "generateUuid",
                value: function () {
                    return Object(y.a)()
                }
            }, {
                key: "getLocalTime",
                value: function (e) {
                    return new Date(1e3 * e).toLocaleString("default", {
                        hour12: !1,
                        day: "2-digit",
                        month: "long",
                        hour: "2-digit",
                        minute: "2-digit"
                    })
                }
            }, {
                key: "padNumber",
                value: function (e, t) {
                    for (var a = e.toString(); a.length < t;)
                        a = "0" + a;
                    return a
                }
            }, {
                key: "arrayColumns",
                value: function (e, t) {
                    var a = [];
                    return e.forEach((function (e) {
                            a.push(e[t])
                        }
                    )),
                        a
                }
            }, {
                key: "findProfile",
                value: function (e, t) {
                    var a = e.find((function (e) {
                            return e.id === t
                        }
                    ));
                    return a || {}
                }
            }, {
                key: "loadUserFriends",
                value: function () {
                    return h.a.api("friends.get", {
                        count: 1e3,
                        fields: "photo_200,photo_100,photo_50,domain,screen_name,first_name_dat,first_name_gen"
                    }, "friends").then((function (e) {
                            return e.response && e.response.items ? e.response.items : []
                        }
                    ))
                }
            }, {
                key: "getUsers",
                value: function (e) {
                    var t = {
                        user_ids: e.slice(0, 300).join(","),
                        fields: "photo_200,photo_100,photo_50,domain,screen_name,first_name_dat,first_name_gen"
                    };
                    return h.a.api("users.get", t).then((function (e) {
                            return e.response ? e.response : []
                        }
                    ))
                }
            }, {
                key: "searchUsers",
                value: function (e) {
                    var t = {
                        q: e,
                        count: 300,
                        fields: "photo_200,photo_100,photo_50,domain,screen_name,first_name_dat,first_name_gen"
                    };
                    return h.a.api("users.search", t).then((function (e) {
                            return e.response && e.response.items ? e.response.items : []
                        }
                    ))
                }
            }]),
                e
        }()
            , T = k
            , N = (a(174),
                function (e) {
                    return {
                        type: "SET_ACTIVE_TAB",
                        tab: e
                    }
                }
        )
            , w = function (e, t) {
            return {
                type: "SET_ACTIVE_PANEL",
                tab: e,
                panel: t
            }
        }
            , L = function () {
            return {
                type: "HANDLE_TAB_SWIPE_BACK"
            }
        }
            , A = function (e) {
            return {
                type: "SET_USER_FRIENDS",
                data: e
            }
        }
            , j = function (e) {
            return {
                type: "ADD_CACHE_PROFILES",
                data: e
            }
        }
            , P = function (e, t) {
            var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "\u041e\u043a\u0435\u0439"
                , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "primary"
                , r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null;
            return {
                type: "ADD_TOAST",
                title: e,
                message: t,
                button: a,
                category: n,
                buttonCallback: r
            }
        }
            , O = function (e, t) {
            var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
            return {
                type: "SET_SNACKBAR",
                category: e,
                message: t,
                button: a,
                onClick: n
            }
        }
            , S = function () {
            return {
                type: "DELETE_SNACKBAR"
            }
        }
            , I = function (e) {
            return {
                type: "SET_ACTIVE_MODAL",
                id: e
            }
        }
            , C = function (e, t) {
            return {
                type: "SET_ACTIVE_WINDOW",
                id: e,
                params: t
            }
        }
            , W = function (e, t, a) {
            return {
                type: "SET_WINDOW_PARAM",
                id: e,
                param: t,
                value: a
            }
        }
            , M = function () {
            return {
                type: "HIDE_ACTIVE_WINDOW"
            }
        }
            , D = a(55)
            , B = a.n(D)
            , R = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                return Object(d.a)(this, a),
                    t.apply(this, arguments)
            }

            return Object(p.a)(a, [{
                key: "render",
                value: function () {
                    return r.a.createElement("div", {
                        className: "PanelHeader",
                        onClick: function () {
                            return window.history.back()
                        }
                    }, r.a.createElement("div", {
                        className: "PanelHeader__before"
                    }, r.a.createElement("img", {
                        src: B.a,
                        alt: ""
                    })), r.a.createElement("div", {
                        className: "PanelHeader__title"
                    }, this.props.children))
                }
            }]),
                a
        }(r.a.Component)
            , x = {
            handleTabSwipeBack: L
        }
            , U = Object(f.c)((function (e) {
                return {
                    app: e.app
                }
            }
        ), x)(R)
            , F = (a(175),
            a(12))
            , V = a.n(F)
            , H = function () {
            function e() {
                Object(d.a)(this, e)
            }

            return Object(p.a)(e, null, [{
                key: "sendEvent",
                value: function (e, t) {
                    window.socket.sendEvent(e, t)
                }
            }, {
                key: "sendBuffer",
                value: function () {
                    window.socket.sendBuffer(arguments)
                }
            }]),
                e
        }()
            , K = H
            , G = (a(176),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    return Object(d.a)(this, a),
                        t.apply(this, arguments)
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = ["Button"];
                        return e.color && t.push("Button__color-" + e.color),
                        e.mini && t.push("Button--mini"),
                        e.stretched && t.push("Button--stretched"),
                            r.a.createElement("button", {
                                disabled: e.disabled,
                                type: e.type,
                                onClick: e.onClick,
                                className: V()(t),
                                children: e.children
                            })
                    }
                }]),
                    a
            }(r.a.Component))
            , Y = G
            , q = (a(177),
            a(14))
            , J = a(62)
            , z = a.n(J)
            , X = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var i;
                return Object(d.a)(this, a),
                    (i = t.call(this, e)).enableTouchMove = function () {
                        document.body.removeEventListener("touchmove", i.touchEventListener)
                    }
                    ,
                    i.disableTouchMove = function () {
                        document.body.addEventListener("touchmove", i.touchEventListener, {
                            passive: !1
                        })
                    }
                    ,
                    i.touchEventListener = function (e) {
                        e.preventDefault()
                    }
                    ,
                    i.onMove = function (e) {
                        if (i.disableTouchMove(),
                        e.shiftY < -55 || e.shiftY > 180)
                            return 0;
                        i.setState({
                            verticalScroll: e.shiftY
                        })
                    }
                    ,
                    i.onStart = function () {
                        i.disableTouchMove(),
                            i.setState({
                                isActive: !0
                            })
                    }
                    ,
                    i.onEnd = function (e) {
                        if (i.enableTouchMove(),
                            i.setState({
                                verticalScroll: 0,
                                isActive: !1
                            }),
                        !e.shiftX || !e.shiftY)
                            return 0;
                        i.props.onScroll && e.shiftY > 70 && i.props.onScroll(e.shiftX, e.shiftY, e.startX, e.startY, (new Date).getTime() - e.startT.getTime())
                    }
                    ,
                    i.onInfectedToastClick = function () {
                        i.setState({
                            infectedToastClosed: !0
                        });
                        var e = i.props.items.items
                            , t = 0;
                        e.forEach((function (e) {
                                1 === e.type_id && (t = e.current_count)
                            }
                        ));
                        var a = ""
                            , o = ""
                            , c = null;
                        0 === t ? (a = r.a.createElement("span", {
                                style: {
                                    fontSize: "16px"
                                }
                            }, "\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 \u0438\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u043e\u0442 \u043d\u0435\u0433\u043e \u0435\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u0437\u0430\u0431\u043e\u043b\u0435\u0442\u044c. ", r.a.createElement("br", null), "\u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e \u0437\u0430\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f 5% \u043e\u0442 \u043e\u0431\u0449\u0435\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0438\u0433\u0440\u043e\u043a\u043e\u0432. ", r.a.createElement("br", null), r.a.createElement("br", null), "\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0442\u0435\u0441\u0442\u0430 \u043d\u0430 \u0432\u0438\u0440\u0443\u0441. \u041a\u0443\u043f\u0438\u0442\u0435 \u0435\u0433\u043e \u0432 \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c."),
                                o = r.a.createElement(n.Fragment, null, "\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u041c\u0430\u0433\u0430\u0437\u0438\u043d"),
                                c = function () {
                                    setTimeout((function () {
                                            i.props.setActiveTab("information"),
                                                i.props.setActivePanel("information", "shop")
                                        }
                                    ), 200)
                                }
                        ) : (a = r.a.createElement("span", {
                                style: {
                                    fontSize: "16px"
                                }
                            }, "\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 \u0438\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u043e\u0442 \u043d\u0435\u0433\u043e \u0435\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u0437\u0430\u0431\u043e\u043b\u0435\u0442\u044c. ", r.a.createElement("br", null), "\u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e \u0437\u0430\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f 5% \u043e\u0442 \u043e\u0431\u0449\u0435\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0438\u0433\u0440\u043e\u043a\u043e\u0432. ", r.a.createElement("br", null), "\u0412\u044b \u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u0431\u043e\u043b\u0435\u0442\u044c. \u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c \u0432\u0430\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u044d\u0442\u043e."),
                                o = r.a.createElement(n.Fragment, null, "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 1 ", T.getEmojiPic("tube", 100)),
                                c = function () {
                                    K.sendEvent("items:use", {
                                        type_id: 1
                                    })
                                }
                        ),
                            i.props.addToast("\u0412\u044b \u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f", a, o, "error", c)
                    }
                    ,
                    i.state = {
                        isActive: !1,
                        verticalScroll: 0
                    },
                    i
            }

            return Object(p.a)(a, [{
                key: "renderSvg",
                value: function () {
                    var e = parseInt(this.state.verticalScroll)
                        , t = "M.5.5v".concat(e < 65 ? 173 + e : e + 31)
                        , a = "M.5.5v".concat(e < 65 ? 181 + e : e + 39)
                        , n = {
                            transform: "translate(95.5px, ".concat(125 + e, "px)")
                        }
                        , i = function (e) {
                            var t = {
                                0: 61,
                                1: 62,
                                2: 63,
                                3: 64,
                                4: 65,
                                5: 66,
                                6: 67,
                                7: 68,
                                8: 69,
                                9: 70,
                                10: 71,
                                11: 72,
                                12: 73,
                                13: 74,
                                14: 75,
                                15: 76,
                                16: 77,
                                17: 77.5,
                                18: 78,
                                19: 78,
                                20: 79,
                                21: 79,
                                22: 80,
                                23: 80.3,
                                24: 80.6,
                                25: 81,
                                26: 81.5,
                                27: 82,
                                28: 82.5,
                                29: 83,
                                30: 83.5,
                                31: 84,
                                32: 84,
                                33: 85,
                                34: 85,
                                35: 86,
                                36: 86,
                                37: 87,
                                38: 87,
                                39: 88,
                                40: 88,
                                41: 89,
                                42: 89.3,
                                43: 89.6,
                                44: 90,
                                45: 90.3,
                                46: 90.6,
                                47: 91,
                                48: 91.3,
                                49: 91.6,
                                50: 92,
                                51: 92,
                                52: 92,
                                53: 92,
                                54: 92,
                                55: 92.3,
                                56: 92.6,
                                57: 92.6,
                                58: 93,
                                59: 93,
                                60: 93.3,
                                61: 93.3,
                                62: 93.6,
                                63: 93.6,
                                64: 94,
                                65: 94,
                                66: 94.3,
                                67: 94.3,
                                68: 94.6,
                                69: 94.6,
                                70: 95,
                                71: 95,
                                72: 95.3,
                                73: 95.3,
                                74: 95.6,
                                75: 95.6,
                                76: 95.6,
                                77: 95.6,
                                78: 96,
                                79: 96,
                                80: 96,
                                81: 96,
                                82: 96,
                                83: 96
                            }
                                , a = t[e -= 15];
                            return e > 83 && (a = t[83]),
                                {
                                    opacity: e > 1 ? "1" : "0",
                                    transform: "translate(".concat(a, "px, ").concat(e, "px)")
                                }
                        }(e)
                        , o = "M.5.5h".concat(160 + (e - 15 > 26 ? 5 : 0))
                        ,
                        c = ["M0 0.5L10.6227 0L20.7485 0.466667L30.8742 0L41 0.466667L51.1258 0L61.2515 0.466667L71.3773 0L81.503 0.466667L91.6288 0L101.755 0.466667L111.88 0L122.006 0.466667L132.132 0L142.258 0.466667L152.383 0L164 0.5", "M0 1L10.6227 0L20.7485 0.933333L30.8742 0L41 0.933333L51.1258 0L61.2515 0.933333L71.3773 0L81.503 0.933333L91.6288 0L101.755 0.933333L111.88 0L122.006 0.933333L132.132 0L142.258 0.933333L152.383 0L164 1", "M0 1.5L10.6227 0L20.7485 1.4L30.8742 0L41 1.4L51.1258 0L61.2515 1.4L71.3773 0L81.503 1.4L91.6288 0L101.755 1.4L111.88 0L122.006 1.4L132.132 0L142.258 1.4L152.383 0L164 1.5", "M0 2L10.6227 0L20.7485 1.86667L30.8742 0L41 1.86667L51.1258 0L61.2515 1.86667L71.3773 0L81.503 1.86667L91.6288 0L101.755 1.86667L111.88 0L122.006 1.86667L132.132 0L142.258 1.86667L152.383 0L164 2", "M0 2.5L10.6227 0L20.7485 2.33333L30.8742 0L41 2.33333L51.1258 0L61.2515 2.33333L71.3773 0L81.503 2.33333L91.6288 0L101.755 2.33333L111.88 0L122.006 2.33333L132.132 0L142.258 2.33333L152.383 0L164 2.5", "M0 3L10.6227 0L20.7485 2.8L30.8742 0L41 2.8L51.1258 0L61.2515 2.8L71.3773 0L81.503 2.8L91.6288 0L101.755 2.8L111.88 0L122.006 2.8L132.132 0L142.258 2.8L152.383 0L164 3", "M0 3.5L10.6227 0L20.7485 3.26667L30.8742 0L41 3.26667L51.1258 0L61.2515 3.26667L71.3773 0L81.503 3.26667L91.6288 0L101.755 3.26667L111.88 0L122.006 3.26667L132.132 0L142.258 3.26667L152.383 0L164 3.5", "M0 4L10.6227 0L20.7485 3.73333L30.8742 0L41 3.73333L51.1258 0L61.2515 3.73333L71.3773 0L81.503 3.73333L91.6288 0L101.755 3.73333L111.88 0L122.006 3.73333L132.132 0L142.258 3.73333L152.383 0L164 4", "M0 4.5L10.6227 0L20.7485 4.2L30.8742 0L41 4.2L51.1258 0L61.2515 4.2L71.3773 0L81.503 4.2L91.6288 0L101.755 4.2L111.88 0L122.006 4.2L132.132 0L142.258 4.2L152.383 0L164 4.5", "M0 5L10.6227 0L20.7485 4.66667L30.8742 0L41 4.66667L51.1258 0L61.2515 4.66667L71.3773 0L81.503 4.66667L91.6288 0L101.755 4.66667L111.88 0L122.006 4.66667L132.132 0L142.258 4.66667L152.383 0L164 5", "M0 5.5L10.6227 0L20.7485 5.13333L30.8742 0L41 5.13333L51.1258 0L61.2515 5.13333L71.3773 0L81.503 5.13333L91.6288 0L101.755 5.13333L111.88 0L122.006 5.13333L132.132 0L142.258 5.13333L152.383 0L164 5.5", "M0 6L10.6227 0L20.7485 5.6L30.8742 0L41 5.6L51.1258 0L61.2515 5.6L71.3773 0L81.503 5.6L91.6288 0L101.755 5.6L111.88 0L122.006 5.6L132.132 0L142.258 5.6L152.383 0L164 6", "M0 6.5L10.6227 0L20.7485 6.06667L30.8742 0L41 6.06667L51.1258 0L61.2515 6.06667L71.3773 0L81.503 6.06667L91.6288 0L101.755 6.06667L111.88 0L122.006 6.06667L132.132 0L142.258 6.06667L152.383 0L164 6.5", "M0 7L10.6227 0L20.7485 6.53333L30.8742 0L41 6.53333L51.1258 0L61.2515 6.53333L71.3773 0L81.503 6.53333L91.6288 0L101.755 6.53333L111.88 0L122.006 6.53333L132.132 0L142.258 6.53333L152.383 0L164 7"]
                        , s = function (e) {
                            return e > 13 && (e = 13),
                            e < 0 && alert(e),
                                c[e]
                        }
                        , l = function (e) {
                            return 52 === e ? 1 : 53 === e ? 2 : 3
                        }
                        , m = e < 65 ? 0 : 1.2 * (e - 65)
                        , u = {
                            transform: "translate(95px, ".concat(134 + e + m, "px)")
                        }
                        , d = {
                            transform: "translate(260px, ".concat(134 + e + m, "px)")
                        }
                        , p = "M.5.5v".concat(140)
                        , _ = "M.5.5v".concat(140)
                        , v = {
                            transform: "translate(96px, ".concat(127 + e + m, "px)")
                        }
                        , f = {
                            transform: "translate(95.5px, ".concat(127 + e + m + 140, "px)")
                        }
                        , b = 262
                        , h = 390
                        , E = 0;
                    return window.innerHeight <= 810 && (b = 250,
                        h = 340),
                    window.innerHeight <= 740 && (b = 250,
                        h = 300,
                        E = 20),
                    window.innerHeight <= 700 && (b = 250,
                        h = 270,
                        E = 25),
                    window.innerHeight <= 570 && (b = 210,
                        h = 210,
                        E = 30),
                    window.innerHeight <= 320 && (b = 190,
                        h = 195,
                        E = 35),
                        r.a.createElement("svg", {
                            id: "PaperRoll",
                            xmlns: "http://www.w3.org/2000/svg",
                            width: b,
                            height: h,
                            viewBox: "0 0 262.573 ".concat(350 - E)
                        }, r.a.createElement("linearGradient", {
                            id: "linear-gradient"
                        }, r.a.createElement("stop", {
                            offset: "50%",
                            stopColor: "rgb(242 250 255)"
                        }), r.a.createElement("stop", {
                            offset: "100%",
                            stopColor: "rgb(225 232 237)"
                        })), r.a.createElement("g", {
                            id: "BehindSide",
                            transform: "translate(49 119)",
                            fill: "url(#linear-gradient)",
                            stroke: "#979797",
                            strokeMiterlimit: "10",
                            strokeWidth: "1"
                        }, r.a.createElement("rect", {
                            id: "BehindSide-Background",
                            width: "47",
                            height: "73",
                            stroke: "none"
                        })), r.a.createElement("g", {
                            id: "SideOuterCircle",
                            fill: "#f2faff",
                            stroke: "#788b9c",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }, r.a.createElement("ellipse", {
                            id: "SideOuterCircle-Background",
                            cx: "48.5",
                            cy: "96.5",
                            rx: "48.5",
                            ry: "96.5",
                            stroke: "none"
                        }), r.a.createElement("ellipse", {
                            id: "SideOuterCircle-Border",
                            cx: "48.5",
                            cy: "96.5",
                            rx: "47",
                            ry: "95",
                            fill: "none"
                        })), r.a.createElement("g", {
                            id: "SideInnerCircle",
                            transform: "translate(36 65)",
                            fill: "#b0c1d4",
                            stroke: "#788b9c",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }, r.a.createElement("ellipse", {
                            id: "SideInnerCircle-Background",
                            cx: "13.5",
                            cy: "31",
                            rx: "13.5",
                            ry: "31",
                            stroke: "none"
                        }), r.a.createElement("ellipse", {
                            id: "SideInnerCircle-Border",
                            cx: "13.5",
                            cy: "31",
                            rx: "12",
                            ry: "29.5",
                            fill: "none"
                        })), r.a.createElement("path", {
                            id: "RollRightBorderRadius",
                            d: "M57,95C57,26.31,20.511,0,0,0",
                            transform: "translate(203.5 1.5)",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "square",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), r.a.createElement("path", {
                            id: "RollBackgroundBorder",
                            d: "M0,1H46",
                            transform: "translate(49.5 190.5)",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "square",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), r.a.createElement("path", {
                            id: "RollTopBorder",
                            key: "RollTopBorder",
                            d: "M.5.5h154",
                            transform: "translate(49 1)",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "square",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), r.a.createElement("path", {
                            id: e >= 52 ? "ChunkTopBorder" : "RollBottomBorder",
                            key: v >= 52 ? "ChunkTopBorder" : "RollBottomBorder",
                            style: i,
                            d: o,
                            stroke: "#788b9c",
                            fill: "none",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3",
                            strokeDasharray: "1 9"
                        }), r.a.createElement("path", {
                            id: "RollLeftBorder",
                            key: "RollLeftBorder",
                            d: t,
                            transform: "translate(95 100)",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), r.a.createElement("path", {
                            id: "RollRightBorder",
                            key: "RollRightBorder",
                            d: a,
                            transform: "translate(260 93)",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), e >= 65 && r.a.createElement("path", {
                            id: "ChunkLeftBorder",
                            key: "ChunkLeftBorder",
                            d: p,
                            style: u,
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), e >= 65 && r.a.createElement("path", {
                            id: "ChunkRightBorder",
                            key: "ChunkRightBorder",
                            d: _,
                            style: d,
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }), e >= 65 && r.a.createElement("path", {
                            id: "ChunkBottomBorder",
                            key: "ChunkBottomBorder",
                            style: n,
                            d: s(e - 52),
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: l(e)
                        }), e <= 52 && r.a.createElement("path", {
                            id: "ChunkTopBorder",
                            key: "ChunkTopBorder",
                            style: v,
                            stroke: "#788b9c",
                            d: "M.5.5h163",
                            fill: "none",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3",
                            strokeDasharray: "1 9"
                        }), e > 52 && r.a.createElement("path", {
                            id: "ChunkTopBorder2",
                            key: "ChunkTopBorder2",
                            style: v,
                            d: s(e - 52),
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: l(e)
                        }), e < 65 ? r.a.createElement("path", {
                            id: "ChunkBottomBorder",
                            key: "ChunkBottomBorder",
                            style: f,
                            d: "M0,7.5,10.688,0,20.875,7,31.063,0,41.25,7,51.438,0,61.625,7,71.813,0,82,7,92.188,0l10.188,7,10.188-7L122.75,7l10.188-7,10.188,7,10.188-7L165,7.5",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }) : r.a.createElement("path", {
                            id: "ChunkBottomBorder2",
                            key: "ChunkBottomBorder2",
                            style: f,
                            d: "M0,7.5,10.688,0,20.875,7,31.063,0,41.25,7,51.438,0,61.625,7,71.813,0,82,7,92.188,0l10.188,7,10.188-7L122.75,7l10.188-7,10.188,7,10.188-7L165,7.5",
                            fill: "none",
                            stroke: "#788b9c",
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeMiterlimit: "10",
                            strokeWidth: "3"
                        }))
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.user.object
                        , a = V()({
                        PaperScroll: !0,
                        "PaperScroll--active": this.state.isActive
                    });
                    return r.a.createElement("div", {
                        className: a
                    }, r.a.createElement(q.n, {
                        onMove: this.onMove,
                        onEnd: this.onEnd,
                        onStart: this.onStart
                    }, this.renderSvg()), t.can_be_infected && !this.state.infectedToastClosed && r.a.createElement("div", {
                        className: "PaperScroll__toasts"
                    }, r.a.createElement("div", {
                        className: "PaperScroll__toast",
                        onClick: function () {
                            return e.onInfectedToastClick()
                        }
                    }, r.a.createElement("div", {
                        className: "PaperScroll__toast-image"
                    }, T.getEmojiPic("virus", 160)), r.a.createElement("div", {
                        className: "PaperScroll__toast-message"
                    }, "\u0412\u044b \u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f"), r.a.createElement("div", {
                        className: "PaperScroll__toast-button"
                    }, r.a.createElement("img", {
                        src: z.a,
                        alt: ""
                    })))))
                }
            }]),
                a
        }(r.a.Component)
            , Q = {
            addToast: P,
            setActiveTab: N,
            setActivePanel: w
        }
            , Z = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    items: e.items
                }
            }
        ), Q)(X)
            , $ = a(63)
            , ee = a.n($)
            , te = a(64)
            , ae = a.n(te)
            , ne = a(65)
            , re = a.n(ne)
            , ie = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).onScroll = function (e, t, a, r, i) {
                        if (K.sendBuffer(2, T.roundInt(e), T.roundInt(t), T.roundInt(a), T.roundInt(r), i), n.props.tickUserScroll(), h.a.supports("VKWebAppTapticSelectionChanged") && h.a.send("VKWebAppTapticSelectionChanged", {}).then((function () {
                            }
                        )).catch((function () {
                            }
                        )),
                            !n.props.user.object.is_extended_animation_disabled) {
                            var o = T.generateUuid();
                            n.bgElements.push({
                                id: o,
                                x: T.rand(1, window.innerWidth - 50),
                                y: T.rand(80, 250)
                            }),
                                n.forceUpdate(),
                                setTimeout((function () {
                                        var e = n.bgElements.findIndex((function (e) {
                                                return e.id === o
                                            }
                                        ));
                                        e > -1 && n.bgElements.splice(e, 1),
                                            n.forceUpdate()
                                    }
                                ), 2e3)
                        }
                    }
                    ,
                    n.setActivePanel = function (e) {
                        n.props.setActivePanel("main", e)
                    }
                    ,
                    n.setActiveModal = function (e) {
                        n.props.setActiveModal(e)
                    }
                    ,
                    n.state = {
                        activeTab: "menu"
                    },
                    n.bgElements = [],
                    n
            }

            return Object(p.a)(a, [{
                key: "componentDidMount",
                value: function () {
                    var e = this;
                    setTimeout((function () {
                            e.props.user.object.offline_died && e.props.addToast("\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e", T.escapeNewLineToBeak("\u0412\u0438\u0440\u0443\u0441 \u043d\u0435 \u0434\u0440\u0435\u043c\u043b\u0435\u0442 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0441\u0442\u0438\u0447\u044c \u0432 \u0441\u0430\u043c\u044b\u0439 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442. \u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u044d\u043f\u0438\u0434\u0435\u043c\u0438\u044f \u0434\u043e\u0431\u0440\u0430\u043b\u0430\u0441\u044c \u0438 \u0434\u043e \u0432\u0430\u0441.\n\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432\u044b \u043d\u0435 \u0443\u0441\u043f\u0435\u043b\u0438 \u0438\u0437\u043b\u0435\u0447\u0438\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 24 \u0447\u0430\u0441\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u044f.\n\n\u0412\u0430\u0448 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043e\u0431\u043d\u0443\u043b\u0451\u043d. \u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u0441\u0451 \u0437\u0430\u043d\u043e\u0432\u043e \u0438 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u043c."), "\u041e\u043a\u0435\u0439", "error", (function () {
                                    K.sendEvent("event:trigger", {
                                        type: "offline_died_reset"
                                    })
                                }
                            ))
                        }
                    ), 700)
                }
            }, {
                key: "getTabClassNames",
                value: function (e) {
                    return V()({
                        "MainTab__footer-tab": !0,
                        "MainTab__footer-tab--active": this.state.activeTab === e
                    })
                }
            }, {
                key: "openTab",
                value: function (e) {
                    this.setState({
                        activeTab: e
                    }),
                    "improvements" === e && setTimeout((function () {
                            T.scrollToBottom()
                        }
                    ), 20)
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app
                        , a = this.props.user.object
                        , n = this.props.bonuses.items
                        , i = this.props.improvements.items
                        , o = V()({
                        "MainTab__header-balance": !0,
                        "MainTab__header-balance--infected": a.is_infected,
                        "MainTab__header-balance--mini": a.balance.toString().length >= 12
                    })
                        , s = Object(c.a)(n);
                    return s = s.filter((function (e) {
                            return 0 === e.current_count
                        }
                    )),
                        r.a.createElement("div", {
                            className: "MainTab"
                        }, r.a.createElement("div", {
                            className: "MainTab__header",
                            onClick: this.props.handleTabSwipeBack
                        }, r.a.createElement("div", {
                            className: "MainTab__header-title"
                        }, "\u0412\u0430\u0448 \u0441\u0447\u0451\u0442"), r.a.createElement("div", {
                            className: o
                        }, T.formatMainBalance(a.balance / 1e3), " ", T.getEmojiPic("toilet", 100)), r.a.createElement("div", {
                            className: "MainTab__header-counters"
                        }, r.a.createElement("div", {
                            className: "MainTab__header-counter"
                        }, "+ ", 0 === a.improvements_sum ? T.formatMainBalance(a.improvements_sum / 1e3) : T.formatNumber(a.improvements_sum / 1e3), "/\u0441\u0435\u043a"), r.a.createElement("div", {
                            className: "MainTab__header-counter"
                        }, "+ ", T.formatNumber((a.bonuses_sum + 1) / 1e3), "/\u0441\u043a\u0440\u043e\u043b\u043b")), t.socketFetching && r.a.createElement("div", {
                            className: "MainTab__header-fetching"
                        }, "\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435...")), r.a.createElement("div", {
                            className: "MainTab__scroll"
                        }, r.a.createElement(Z, {
                            onScroll: this.onScroll
                        })), r.a.createElement("div", {
                            className: "MainTab__footer"
                        }, r.a.createElement("div", {
                            className: "MainTab__footer-tabs"
                        }, r.a.createElement("div", {
                            children: "\u041c\u0435\u043d\u044e",
                            onClick: function () {
                                return e.openTab("menu")
                            },
                            className: this.getTabClassNames("menu")
                        }), r.a.createElement("div", {
                            children: "\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f",
                            onClick: function () {
                                return e.openTab("improvements")
                            },
                            className: this.getTabClassNames("improvements")
                        }), r.a.createElement("div", {
                            children: "\u0411\u043e\u043d\u0443\u0441\u044b",
                            onClick: function () {
                                return e.openTab("bonuses")
                            },
                            className: this.getTabClassNames("bonuses")
                        })), "menu" === this.state.activeTab && r.a.createElement("div", {
                            className: "MainTab__footer-content"
                        }, r.a.createElement("div", {
                            className: "MainTab__buttons"
                        }, r.a.createElement("div", {
                            className: "MainTab__button MainTab__button--orange",
                            onClick: function () {
                                return e.setActivePanel("rating")
                            }
                        }, r.a.createElement("div", {
                            className: "MainTab__button-icon"
                        }, r.a.createElement("img", {
                            src: ee.a,
                            alt: ""
                        })), r.a.createElement("div", {
                            className: "MainTab__button-title"
                        }, "\u0420\u0435\u0439\u0442\u0438\u043d\u0433")), r.a.createElement("div", {
                            className: "MainTab__button MainTab__button--green",
                            onClick: function () {
                                return e.setActivePanel("transfer")
                            }
                        }, r.a.createElement("div", {
                            className: "MainTab__button-icon"
                        }, r.a.createElement("img", {
                            src: ae.a,
                            alt: ""
                        })), r.a.createElement("div", {
                            className: "MainTab__button-title"
                        }, "\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438")), r.a.createElement("div", {
                            className: "MainTab__button MainTab__button--purple",
                            onClick: function () {
                                return e.setActivePanel("history")
                            }
                        }, r.a.createElement("div", {
                            className: "MainTab__button-icon"
                        }, r.a.createElement("img", {
                            src: re.a,
                            alt: ""
                        })), r.a.createElement("div", {
                            className: "MainTab__button-title"
                        }, "\u0418\u0441\u0442\u043e\u0440\u0438\u044f")))), "improvements" === this.state.activeTab && r.a.createElement("div", {
                            className: "MainTab__footer-content"
                        }, r.a.createElement("div", {
                            className: "MainTab__improvements"
                        }, r.a.createElement(q.e, null, i.map((function (t) {
                                var a = T.roundFloat(t.speed / 1e3, !0);
                                t.current_count > 0 && (a = T.roundFloat(t.speed * t.current_count / 1e3, !0));
                                return r.a.createElement("div", {
                                    className: "MainTab__improvement-wrapper",
                                    key: t.type_id
                                }, r.a.createElement("div", {
                                    className: "MainTab__improvement",
                                    onClick: function () {
                                        e.props.setActiveWindow("improvement", {
                                            type_id: t.type_id
                                        })
                                    }
                                }, r.a.createElement("div", {
                                    className: "MainTab__improvement-image"
                                }, r.a.createElement("img", {
                                    src: T.getEmojiLink(t.icon, 160),
                                    alt: ""
                                })), r.a.createElement("div", {
                                    className: "MainTab__improvement-data"
                                }, r.a.createElement("div", {
                                    className: "MainTab__improvement-title"
                                }, t.name), r.a.createElement("div", {
                                    className: "MainTab__improvement-speed"
                                }, "+", a, "/\u0441\u0435\u043a")), t.current_count > 0 && r.a.createElement("div", {
                                    className: "MainTab__improvement-counter"
                                }, "x", t.current_count)))
                            }
                        )))), r.a.createElement(Y, {
                            color: "primary",
                            stretched: !0,
                            onClick: function () {
                                return e.setActiveModal("improvements")
                            }
                        }, "\u041a\u0443\u043f\u0438\u0442\u044c \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f")), "bonuses" === this.state.activeTab && r.a.createElement("div", {
                            className: "MainTab__footer-content"
                        }, r.a.createElement("div", {
                            className: "MainTab__bonuses"
                        }, r.a.createElement(q.e, null, s.map((function (t) {
                                var n = T.formatNumber(t.speed / 1e3)
                                    , i = V()({
                                    MainTab__bonus: !0,
                                    "MainTab__bonus--stripped": t.current_count > 0,
                                    "MainTab__bonus--hidden": t.earned_filter > a.earned_balance
                                });
                                return r.a.createElement("div", {
                                    className: "MainTab__bonus-wrapper",
                                    key: t.type_id
                                }, r.a.createElement("div", {
                                    className: i,
                                    onClick: function () {
                                        e.props.setActiveWindow("bonus", {
                                            type_id: t.type_id
                                        })
                                    }
                                }, r.a.createElement("div", {
                                    className: "MainTab__bonus-image"
                                }, r.a.createElement("img", {
                                    src: T.getEmojiLink(t.icon, 160),
                                    alt: ""
                                })), 0 === t.current_count && r.a.createElement("div", {
                                    className: "MainTab__bonus-data"
                                }, r.a.createElement("div", {
                                    className: "MainTab__bonus-title"
                                }, t.name), r.a.createElement("div", {
                                    className: "MainTab__bonus-speed"
                                }, "+", n, "/\u0441\u043a\u0440\u043e\u043b\u043b"))))
                            }
                        )))), r.a.createElement(Y, {
                            color: "primary",
                            stretched: !0,
                            onClick: function () {
                                return e.setActiveModal("bonuses")
                            }
                        }, "\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b"))), r.a.createElement("div", {
                            className: "MainTab__bg"
                        }, this.bgElements.map((function (e) {
                                return r.a.createElement("img", {
                                    alt: "",
                                    key: e.id,
                                    src: T.getEmojiLink(a.is_infected ? "virus" : "toilet", 100),
                                    style: {
                                        top: e.y,
                                        left: e.x
                                    }
                                })
                            }
                        ))))
                }
            }]),
                a
        }(r.a.Component)
            , oe = {
            setActivePanel: w,
            setActiveModal: I,
            setActiveWindow: C,
            addToast: P,
            tickUserScroll: function () {
                return {
                    type: "TICK_USER_SCROLL"
                }
            }
        }
            , ce = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    bonuses: e.bonuses,
                    improvements: e.improvements
                }
            }
        ), oe)(ie)
            , se = (a(187),
            a(40))
            , le = a(66)
            , me = a.n(le)
            , ue = a(67)
            , de = a.n(ue)
            , pe = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                var e;
                Object(d.a)(this, a);
                for (var i = arguments.length, o = new Array(i), c = 0; c < i; c++)
                    o[c] = arguments[c];
                return (e = t.call.apply(t, [this].concat(o))).countdownRenderer = function (e) {
                    return e.completed ? r.a.createElement("span", null, "00:00") : r.a.createElement("span", null, "\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0436\u0438\u0442\u044c ", r.a.createElement("b", null, e.hours > 0 ? e.formatted.hours + ":" : "", e.formatted.minutes, ":", e.formatted.seconds))
                }
                    ,
                    e.onDeathTimerClick = function () {
                        var t = e.props.items.items
                            , a = 0;
                        t.forEach((function (e) {
                                2 === e.type_id && (a = e.current_count)
                            }
                        ));
                        var i = r.a.createElement("span", {
                                style: {
                                    fontSize: "16px"
                                }
                            }, "\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u0442\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e, \u043f\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0442\u0430\u0439\u043c\u0435\u0440\u0430 \u043f\u0440\u043e\u043f\u0430\u0434\u0451\u0442 \u0432\u0435\u0441\u044c \u0432\u0430\u0448 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441, \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043a\u0440\u043e\u043c\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439. ", r.a.createElement("br", null), "\u0423 \u0432\u0430\u0441 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ", a, " ", T.declOfNum(a, ["\u0442\u0430\u0431\u043b\u0435\u0442\u043a\u0430", "\u0442\u0430\u0431\u043b\u0435\u0442\u043a\u0438", "\u0442\u0430\u0431\u043b\u0435\u0442\u043e\u043a"]), ". \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u043b\u0435\u0447\u0438\u0442 \u0432\u0430\u0441 \u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e \u0432 90%")
                            ,
                            o = r.a.createElement(n.Fragment, null, "\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c 1 ", T.getEmojiPic("pill", 100));
                        e.props.addToast("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f", i, o, "error", (function () {
                                K.sendEvent("items:use", {
                                    type_id: 2
                                })
                            }
                        ))
                    }
                    ,
                    e.onAchievementsStatClick = function () {
                        e.props.clearTabHistory("information"),
                            e.props.setActiveTab("information"),
                            e.props.setActivePanel("information", "achievements")
                    }
                    ,
                    e.onImprovementsStatClick = function () {
                    }
                    ,
                    e
            }

            return Object(p.a)(a, [{
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app
                        , a = this.props.user.object
                        , n = this.props.improvements.items
                        , i = this.props.achievements.categories
                        , o = V()({
                        ProfileTab: !0,
                        "ProfileTab--infected": a.is_infected
                    })
                        , c = 0;
                    n.forEach((function (e) {
                            c += e.current_count
                        }
                    ));
                    var s = 0;
                    i.forEach((function (e) {
                            s += e.received_achievements_count
                        }
                    ));
                    var l = T.formatMainBalance(a.earned_balance / 1e3, a.earned_balance < 1e8 ? 3 : 0);
                    return r.a.createElement("div", {
                        className: o
                    }, r.a.createElement("div", {
                        className: "ProfileTab__user"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__user-avatar"
                    }, r.a.createElement("img", {
                        src: a.avatar_max || a.avatar,
                        alt: ""
                    })), r.a.createElement("div", {
                        className: "ProfileTab__user-data"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__user-data-name"
                    }, a.first_name, " ", a.last_name), r.a.createElement("div", {
                        className: "ProfileTab__user-data-status"
                    }, "\u0421\u0442\u0430\u0442\u0443\u0441: ", a.is_infected ? "\u0437\u0430\u0440\u0430\u0436\u0451\u043d" : "\u0437\u0434\u043e\u0440\u043e\u0432"), a.is_infected && a.last_infection_date > 0 && r.a.createElement("div", {
                        className: "ProfileTab__user-data-timer",
                        onClick: function () {
                            return e.onDeathTimerClick()
                        }
                    }, r.a.createElement(se.a, {
                        date: 1e3 * (a.last_infection_date + 86400),
                        renderer: this.countdownRenderer
                    })))), r.a.createElement("div", {
                        className: "ProfileTab__stats"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-row"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title"
                    }, l, " ", T.getEmojiPic("toilet", 100)), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, "\u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f \u0438\u0433\u0440\u044b"))), r.a.createElement("div", {
                        className: "ProfileTab__stats-row"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title"
                    }, a.infections_count), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, T.declOfNum(a.infections_count, ["\u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u0435", "\u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u044f", "\u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u0439"]))), r.a.createElement("div", {
                        className: "ProfileTab__stats-block"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title"
                    }, a.recoveries_count), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, T.declOfNum(a.recoveries_count, ["\u0438\u0437\u043b\u0435\u0447\u0435\u043d\u0438\u0435", "\u0438\u0437\u043b\u0435\u0447\u0435\u043d\u0438\u044f", "\u0438\u0437\u043b\u0435\u0447\u0435\u043d\u0438\u0439"])))), r.a.createElement("div", {
                        className: "ProfileTab__stats-row"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title"
                    }, a.salvations_count), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, "\u0440\u0430\u0437 \u0432\u0430\u0441 \u0441\u043f\u0430\u0441\u043b\u043e \u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0437\u0430\u0449\u0438\u0442\u044b \u043e\u0442 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u044f"))), r.a.createElement("div", {
                        className: "ProfileTab__stats-row"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block"
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title",
                        onClick: function () {
                            return e.onImprovementsStatClick()
                        }
                    }, c), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, T.declOfNum(c, ["\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435", "\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f", "\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439"]))), r.a.createElement("div", {
                        className: "ProfileTab__stats-block",
                        onClick: function () {
                            return e.onAchievementsStatClick()
                        }
                    }, r.a.createElement("div", {
                        className: "ProfileTab__stats-block-title"
                    }, s), r.a.createElement("div", {
                        className: "ProfileTab__stats-block-description"
                    }, T.declOfNum(s, ["\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435", "\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f", "\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439"]))))), r.a.createElement("div", {
                        className: "ProfileTab__buttons"
                    }, r.a.createElement(Y, {
                        color: "gray",
                        stretched: !0,
                        onClick: function () {
                            return T.openLink("https://vk.com/" + t.config.broadcast_id)
                        }
                    }, r.a.createElement("img", {
                        src: me.a,
                        alt: ""
                    }), " \u041f\u0440\u044f\u043c\u0430\u044f \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044f \u0438\u0433\u0440\u044b"), r.a.createElement(Y, {
                        color: "gray",
                        stretched: !0,
                        onClick: function () {
                            return T.openLink("https://vk.com/paper_scroll")
                        }
                    }, r.a.createElement("img", {
                        src: de.a,
                        alt: ""
                    }), " \u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u044b")), r.a.createElement("div", {
                        className: "ProfileTab__toggles"
                    }, r.a.createElement(q.a, {
                        asideContent: r.a.createElement(q.l, {
                            checked: a.is_extended_animation_disabled,
                            onChange: function (e) {
                                K.sendEvent("event:trigger", {
                                    type: "extended_animation_update",
                                    value: e.target.checked
                                })
                            }
                        })
                    }, "\u0423\u043f\u0440\u043e\u0449\u0451\u043d\u043d\u0430\u044f \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u044f \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \u0438\u0433\u0440\u044b")))
                }
            }]),
                a
        }(r.a.Component)
            , _e = {
            addToast: P,
            setActiveTab: N,
            setActivePanel: w,
            clearTabHistory: function (e) {
                return {
                    type: "CLEAR_TAB_HISTORY",
                    tab: e
                }
            }
        }
            , ve = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    items: e.items,
                    improvements: e.improvements,
                    achievements: e.achievements
                }
            }
        ), _e)(pe)
            , fe = (a(188),
            a(68))
            , be = a.n(fe)
            , he = a(69)
            , Ee = a.n(he)
            , ge = a(70)
            , ye = a.n(ge)
            , ke = a(71)
            , Te = a.n(ke)
            , Ne = a(72)
            , we = a.n(Ne)
            , Le = a(73)
            , Ae = a.n(Le)
            , je = a(74)
            , Pe = a.n(je)
            , Oe = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                var e;
                Object(d.a)(this, a);
                for (var i = arguments.length, o = new Array(i), c = 0; c < i; c++)
                    o[c] = arguments[c];
                return (e = t.call.apply(t, [this].concat(o))).setActivePanel = function (t) {
                    e.props.setActivePanel("information", t)
                }
                    ,
                    e.setActiveModal = function (t) {
                        e.props.setActiveModal(t)
                    }
                    ,
                    e.setSnackbar = function (t, a) {
                        e.props.setSnackbar(t, a)
                    }
                    ,
                    e.onItemClick = function (t) {
                        if (0 === t.current_count)
                            e.setActivePanel("shop");
                        else {
                            var a = ""
                                , i = "";
                            1 === t.type_id ? (a = r.a.createElement("span", null, "\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 \u0438\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u043e\u0442 \u043d\u0435\u0433\u043e \u0435\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u0437\u0430\u0431\u043e\u043b\u0435\u0442\u044c. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e \u0437\u0430\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f 5% \u043e\u0442 \u043e\u0431\u0449\u0435\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0438\u0433\u0440\u043e\u043a\u043e\u0432. ", r.a.createElement("br", null), "\u0422\u0435\u0441\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0430\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441."),
                                i = r.a.createElement(n.Fragment, null, "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 1 ", T.getEmojiPic(t.icon, 100))) : 2 === t.type_id && (a = r.a.createElement("span", null, "\u0415\u0441\u043b\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0431\u043e\u043b\u0435\u0437\u043d\u0438 \u0432\u044b \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u0442\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e, \u043f\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0442\u0430\u0439\u043c\u0435\u0440\u0430 \u043f\u0440\u043e\u043f\u0430\u0434\u0451\u0442 \u0432\u0435\u0441\u044c \u0432\u0430\u0448 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441, \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043a\u0440\u043e\u043c\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439. ", r.a.createElement("br", null), "\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u043b\u0435\u0447\u0438\u0442 \u0432\u0430\u0441 \u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e \u0432 90%"),
                                i = r.a.createElement(n.Fragment, null, "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 1 ", T.getEmojiPic(t.icon, 100))),
                                e.props.addToast("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f", a, i, "primary", (function () {
                                        K.sendEvent("items:use", {
                                            type_id: t.type_id
                                        })
                                    }
                                ))
                        }
                    }
                    ,
                    e.onDisinfectantClick = function (t) {
                        0 === t.current_count ? e.setActivePanel("shop") : e.showDisinfectantActivateToast(t)
                    }
                    ,
                    e.onDisinfectantMenuClick = function (t) {
                        t.is_active ? e.setSnackbar("error", "\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u043e \u0437\u0430\u0449\u0438\u0442\u044b \u0443\u0436\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u043e") : 0 === t.current_count ? e.setSnackbar("error", "\u0423 \u0432\u0430\u0441 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u044d\u0442\u043e\u0433\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0437\u0430\u0449\u0438\u0442\u044b. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u044c \u0435\u0433\u043e \u0432 \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0435.") : e.showDisinfectantActivateToast(t)
                    }
                    ,
                    e.showDisinfectantActivateToast = function (t) {
                        var a = T.roundInt(t.life_time / 60 / 60)
                            ,
                            i = T.declOfNum(a, ["\u0447\u0430\u0441", "\u0447\u0430\u0441\u0430", "\u0447\u0430\u0441\u043e\u0432"])
                            , o = null;
                        "infection" === t.protection ? o = r.a.createElement("span", null, "\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 ", r.a.createElement("b", null, t.name_gen.toLowerCase()), " \u0441\u043d\u0438\u0437\u0438\u0442 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 ", r.a.createElement("b", null, t.chance_reduction, "%"), " \u043d\u0430 ", r.a.createElement("b", null, a), " ", i, ".") : "steal" === t.protection && (o = r.a.createElement("span", null, "\u041a\u0430\u0436\u0434\u044b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442 \u0443 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u0438\u0433\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u0443\u043a\u0440\u0430\u0441\u0442\u044c \u0431\u0443\u043c\u0430\u0433\u0443.", r.a.createElement("br", null), r.a.createElement("br", null), "\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 ", r.a.createElement("b", null, t.name_gen.toLowerCase()), " \u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0438\u0442 \u0432\u0430\u0448\u0438 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u044f \u043d\u0430 ", r.a.createElement("b", null, a), " ", i, "."));
                        var c = r.a.createElement(n.Fragment, null, "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 1 ", T.getEmojiPic(t.icon, 100));
                        e.props.addToast("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f", o, c, "primary", (function () {
                                K.sendEvent("disinfectants:activate", {
                                    type_id: t.type_id
                                })
                            }
                        ))
                    }
                    ,
                    e.countdownRenderer = function (e) {
                        return e.completed ? r.a.createElement("span", null, "00:00") : r.a.createElement("span", null, e.hours > 0 ? e.formatted.hours + ":" : "", e.formatted.minutes, ":", e.formatted.seconds)
                    }
                    ,
                    e.openShareWindow = function () {
                        e.props.setActiveWindow("share", {})
                    }
                    ,
                    e.changeNotificationsStatus = function () {
                        var t = e.props.user.object
                            ,
                            a = "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f?"
                            ,
                            i = r.a.createElement("span", null, "\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0431 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044f\u0445 \u0432\u043d\u0443\u0442\u0440\u0438 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430.", r.a.createElement("br", null), r.a.createElement("br", null), "\u0412\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u043d\u044e \u0438\u043b\u0438 \u043d\u0430\u0436\u0430\u0432 \xab\u0417\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\xbb")
                            , o = r.a.createElement(n.Fragment, null, r.a.createElement("img", {
                                src: Pe.a,
                                alt: ""
                            }), " \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f");
                        t.are_notifications_enabled && (a = "\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f?",
                            i = "\u0412\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044f\u0445 \u0432\u043d\u0443\u0442\u0440\u0438 \u0438\u0433\u0440\u044b",
                            o = "\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),
                            e.props.addToast(a, i, o, "accent", (function () {
                                    t.are_notifications_enabled ? K.sendEvent("user:disable_notifications") : h.a.send("VKWebAppAllowMessagesFromGroup", {
                                        group_id: 194441652
                                    }).then((function () {
                                            K.sendEvent("user:enable_notifications")
                                        }
                                    )).catch((function () {
                                        }
                                    ))
                                }
                            ))
                    }
                    ,
                    e
            }

            return Object(p.a)(a, [{
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.disinfectants.items
                        , a = this.props.items.items
                        , n = this.props.user.object
                        , i = h.a.getStartParams().platform;
                    return r.a.createElement("div", {
                        className: "InformationTab"
                    }, r.a.createElement("div", {
                        className: "InformationTab__title"
                    }, "\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"), r.a.createElement("div", {
                        className: "InformationTab__disinfectants"
                    }, r.a.createElement("div", {
                        className: "InformationTab__disinfectants-title"
                    }, "\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0437\u0430\u0449\u0438\u0442\u044b"), r.a.createElement("div", {
                        className: "InformationTab__disinfectants-content"
                    }, r.a.createElement(q.e, null, t.map((function (t) {
                            return r.a.createElement("div", {
                                className: "InformationTab__disinfectants-item-wrapper",
                                key: t.type_id
                            }, r.a.createElement("div", {
                                className: "InformationTab__disinfectants-item",
                                onClick: function () {
                                    return e.onDisinfectantMenuClick(t)
                                }
                            }, T.getEmojiPic(t.icon, 40), " ", t.is_active ? r.a.createElement(se.a, {
                                date: 1e3 * (t.activate_date + t.life_time),
                                renderer: e.countdownRenderer
                            }) : t.name))
                        }
                    ))))), r.a.createElement("div", {
                        className: "InformationTab__inventory"
                    }, r.a.createElement("div", {
                        className: "InformationTab__inventory-title"
                    }, "\u041c\u043e\u0439 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"), r.a.createElement("div", {
                        className: "InformationTab__inventory-content"
                    }, r.a.createElement(q.e, null, t.map((function (t) {
                            return r.a.createElement("div", {
                                className: "InformationTab__inventory-item-wrapper",
                                key: t.type_id
                            }, r.a.createElement("div", {
                                className: "InformationTab__inventory-item",
                                onClick: function () {
                                    return e.onDisinfectantClick(t)
                                }
                            }, r.a.createElement("div", {
                                className: "InformationTab__inventory-item-icon"
                            }, r.a.createElement("img", {
                                src: T.getEmojiLink(t.icon, 160),
                                alt: ""
                            })), r.a.createElement("div", {
                                className: "InformationTab__inventory-item-title"
                            }, t.current_count)))
                        }
                    )), a.map((function (t) {
                            return r.a.createElement("div", {
                                className: "InformationTab__inventory-item-wrapper",
                                key: t.type_id
                            }, r.a.createElement("div", {
                                className: "InformationTab__inventory-item",
                                onClick: function () {
                                    return e.onItemClick(t)
                                }
                            }, r.a.createElement("div", {
                                className: "InformationTab__inventory-item-icon"
                            }, r.a.createElement("img", {
                                src: T.getEmojiLink(t.icon, 160),
                                alt: ""
                            })), r.a.createElement("div", {
                                className: "InformationTab__inventory-item-title"
                            }, t.current_count)))
                        }
                    ))))), r.a.createElement("div", {
                        className: "InformationTab__menu"
                    }, r.a.createElement("div", {
                        className: "InformationTab__menu-title"
                    }, "\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"), r.a.createElement("div", {
                        className: "InformationTab__menu-content"
                    }, r.a.createElement(Y, {
                        color: "gray",
                        stretched: !0,
                        onClick: function () {
                            return e.setActivePanel("shop")
                        }
                    }, r.a.createElement("img", {
                        src: be.a,
                        alt: ""
                    }), " \u041c\u0430\u0433\u0430\u0437\u0438\u043d"), r.a.createElement(Y, {
                        color: "gray",
                        stretched: !0,
                        onClick: function () {
                            return e.setActivePanel("achievements")
                        }
                    }, r.a.createElement("img", {
                        src: ye.a,
                        alt: ""
                    }), " \u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f"), r.a.createElement(Y, {
                        color: "gray",
                        stretched: !0,
                        onClick: function () {
                            return e.openShareWindow()
                        }
                    }, r.a.createElement("img", {
                        src: Ee.a,
                        alt: ""
                    }), " \u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439"))), r.a.createElement("div", {
                        className: "InformationTab__buttons"
                    }, !["mobile_iphone", "mobile_iphone_messenger"].includes(i) && r.a.createElement(Y, {
                        stretched: !0,
                        color: "gray",
                        onClick: function () {
                            return T.openLink("https://vk.me/paper_scroll")
                        }
                    }, r.a.createElement("img", {
                        src: Ae.a,
                        alt: ""
                    }), " \u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0440\u0443\u043b\u043e\u043d\u044b"), r.a.createElement(Y, {
                        stretched: !0,
                        color: "gray",
                        onClick: function () {
                            return e.changeNotificationsStatus()
                        }
                    }, r.a.createElement("img", {
                        src: we.a,
                        alt: ""
                    }), " ", n.are_notifications_enabled ? "\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f" : "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"), r.a.createElement(Y, {
                        stretched: !0,
                        color: "gray",
                        onClick: function () {
                            return T.openLink("https://vk.com/covid19")
                        }
                    }, r.a.createElement("img", {
                        src: Te.a,
                        alt: ""
                    }), " \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e COVID-19")))
                }
            }]),
                a
        }(r.a.Component)
            , Se = {
            addToast: P,
            setSnackbar: O,
            deleteSnackbar: S,
            setActivePanel: w,
            setActiveWindow: C
        }
            , Ie = Object(f.c)((function (e) {
                return {
                    user: e.user,
                    items: e.items,
                    disinfectants: e.disinfectants
                }
            }
        ), Se)(Oe)
            , Ce = (a(189),
            a(75))
            , We = a.n(Ce)
            , Me = a(42)
            , De = a.n(Me)
            , Be = a(76)
            , Re = a.n(Be)
            , xe = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).state = {
                        openedPage: 1,
                        pagesCount: 4
                    },
                    n
            }

            return Object(p.a)(a, [{
                key: "openExchangeLink",
                value: function () {
                    var e = this.props.app.config
                        , t = this.props.user.object;
                    T.openVkCoinLink(e.merchant_id, T.roundInt(t.vkcoin_balance / 1e3), e.merchant_exchange_payload)
                }
            }, {
                key: "openNextPage",
                value: function () {
                    var e = this.props.user.object;
                    3 === this.state.openedPage && e.is_infected && h.a.setViewSettings("dark", "#ffffff").catch((function () {
                        }
                    )),
                        this.setState({
                            openedPage: this.state.openedPage + 1
                        })
                }
            }, {
                key: "completeOnboard",
                value: function () {
                    h.a.setViewSettings("dark", "#ffffff").catch((function () {
                        }
                    )),
                        K.sendEvent("onboard:complete", {}),
                        this.props.setActiveTab("main"),
                        this.props.setUserData("is_onboard_completed", !0)
                }
            }, {
                key: "getProgressWidth",
                value: function (e) {
                    return 1 === e ? "25%" : 2 === e ? "50%" : 3 === e ? "75%" : 4 === e ? "100%" : void 0
                }
            }, {
                key: "renderOnboardTab",
                value: function (e) {
                    var t = this
                        , a = this.props.user.object
                        , i = this.props.user.onboard;
                    if (1 === e)
                        return r.a.createElement("div", {
                            className: "OnboardTab"
                        }, r.a.createElement("div", {
                            className: "OnboardTab__image"
                        }, r.a.createElement("img", {
                            src: Re.a,
                            alt: ""
                        })), r.a.createElement("div", {
                            className: "OnboardTab__title"
                        }, "\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043c\u0438\u0440 2020"), r.a.createElement("div", {
                            className: "OnboardTab__text"
                        }, "\u0412 \u043c\u0438\u0440\u0435 \u0431\u0443\u0448\u0443\u0435\u0442 \u043d\u043e\u0432\u0430\u044f \u0437\u0430\u0440\u0430\u0437\u0430, \u0433\u043b\u0430\u0432\u044b \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432 \u0445\u0432\u0430\u0442\u0430\u044e\u0442\u0441\u044f \u0437\u0430 \u0433\u043e\u043b\u043e\u0432\u0443.", r.a.createElement("br", null), "\u041c\u0438\u0440\u043e\u0432\u0430\u044f \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430 \u0440\u0430\u0437\u0440\u0443\u0448\u0435\u043d\u0430 \u2014 \u0434\u0435\u043d\u044c\u0433\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0438\u043a\u043e\u043c\u0443 \u043d\u0435 \u043d\u0443\u0436\u043d\u044b.", r.a.createElement("br", null), "\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0441\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u0442 \u0442\u0443\u0430\u043b\u0435\u0442\u043d\u0430\u044f \u0431\u0443\u043c\u0430\u0433\u0430, \u043c\u0430\u0441\u043a\u0438 \u0438 \u0430\u043d\u0442\u0438\u0441\u0435\u043f\u0442\u0438\u043a\u0438."));
                    if (2 === e) {
                        var o = a.vkcoin_balance >= 1e6
                            , c = a.vkcoin_balance > 0
                            , s = o ? T.roundInt(a.vkcoin_balance / 1e3 / 1e3) : 0
                            , l = T.roundInt(s / 1e3)
                            , m = s - 1e3 * l;
                        return r.a.createElement("div", {
                            className: "OnboardTab"
                        }, r.a.createElement("div", {
                            className: "OnboardTab__title"
                        }, "\u041f\u0430\u043d\u0438\u043a\u0430!"), r.a.createElement("div", {
                            className: "OnboardTab__text"
                        }, "\u041b\u044e\u0434\u0438 \u0432 \u0441\u043f\u0435\u0448\u043a\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u0438\u0437\u0431\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043e\u0442 \u0441\u0432\u043e\u0438\u0445 \u043c\u043e\u043d\u0435\u0442 \u0438 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0430\u0442\u044c \u0441\u0430\u043c\u043e\u0435 \u0446\u0435\u043d\u043d\u043e\u0435 \u2014 \u0442\u0443\u0430\u043b\u0435\u0442\u043d\u0443\u044e \u0431\u0443\u043c\u0430\u0433\u0443. \u0427\u0443\u0442\u044c \u043f\u043e\u0437\u0436\u0435 \u043e\u043d\u0438 \u043d\u0430\u0443\u0447\u0430\u0442\u0441\u044f \u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0451 \u0441\u0430\u043c\u0438."), r.a.createElement("div", {
                            className: "OnboardTab__block"
                        }, r.a.createElement("div", {
                            className: "OnboardTab__block-row"
                        }, "1000 ", r.a.createElement("img", {
                            src: De.a,
                            alt: "",
                            className: "OnboardTab__block-row--coin"
                        }), " = 1 ", T.getEmojiPic("paper", 100)), r.a.createElement("div", {
                            className: "OnboardTab__block-row"
                        }, "1000 ", T.getEmojiPic("paper", 100), " = 1 ", T.getEmojiPic("toilet", 100))), o ? r.a.createElement(n.Fragment, null, r.a.createElement("div", {
                            className: "OnboardTab__text"
                        }, "\u0422\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 VK Coin"), r.a.createElement("div", {
                            className: "OnboardTab__row"
                        }, T.formatNumber(a.vkcoin_balance / 1e3), " ", r.a.createElement("img", {
                            src: De.a,
                            alt: "",
                            className: "OnboardTab__row--coin"
                        })), r.a.createElement("div", {
                            className: "OnboardTab__text"
                        }, "\u041c\u043e\u0436\u043d\u043e \u043e\u0431\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430"), l > 0 && r.a.createElement("div", {
                            className: "OnboardTab__row"
                        }, T.formatNumber(l), " ", T.getEmojiPic("toilet", 36)), m > 0 && r.a.createElement("div", {
                            className: "OnboardTab__row"
                        }, T.formatNumber(m), " ", T.getEmojiPic("paper", 100)), r.a.createElement("div", {
                            className: "OnboardTab__button"
                        }, r.a.createElement(Y, {
                            onClick: function () {
                                return t.openExchangeLink()
                            }
                        }, "\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u0431\u043c\u0435\u043d\u0443"))) : r.a.createElement(n.Fragment, null, r.a.createElement("div", {
                            className: "OnboardTab__text"
                        }, "VK Coin \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430 \u0442\u0443\u0430\u043b\u0435\u0442\u043d\u0443\u044e \u0431\u0443\u043c\u0430\u0433\u0443 \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0438\u0433\u0440\u044b, \u043d\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u0443 \u0442\u0435\u0431\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0432\u0430\u043b\u044e\u0442\u044b"), c && r.a.createElement("div", {
                            className: "OnboardTab__row"
                        }, T.formatNumber(a.vkcoin_balance / 1e3), " ", r.a.createElement("img", {
                            src: De.a,
                            alt: "",
                            className: "OnboardTab__row--coin"
                        }))))
                    }
                    return 3 === e ? r.a.createElement("div", {
                        className: "OnboardTab"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__title"
                    }, "\u0418 \u0447\u0442\u043e \u043c\u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c", r.a.createElement("br", null), "\u0441 \u044d\u0442\u043e\u0439 \u0431\u0443\u043c\u0430\u0433\u043e\u0439?"), r.a.createElement("div", {
                        className: "OnboardTab__text"
                    }, "\u0420\u0443\u043b\u043e\u043d\u044b \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u044c\u044f\u043c, ", r.a.createElement("br", null), "\u0442\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0435\u0439 \u0444\u0435\u0440\u043c\u044b \u0431\u0443\u043c\u0430\u0433\u0438, ", r.a.createElement("br", null), "\u043e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0442\u044c \u043d\u0430 \u0430\u043d\u0442\u0438\u0441\u0435\u043f\u0442\u0438\u043a\u0438, \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430, \u043c\u0430\u0441\u043a\u0438 \u0438 \u0442\u0435\u0441\u0442\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438."), r.a.createElement("div", {
                        className: "OnboardTab__banner"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__banner-item"
                    }, T.getEmojiPic("lotion", 100)), r.a.createElement("div", {
                        className: "OnboardTab__banner-item"
                    }, T.getEmojiPic("pill", 100)), r.a.createElement("div", {
                        className: "OnboardTab__banner-item"
                    }, T.getEmojiPic("mask", 100)), r.a.createElement("div", {
                        className: "OnboardTab__banner-item"
                    }, T.getEmojiPic("tube", 100))), r.a.createElement("div", {
                        className: "OnboardTab__text"
                    }, "\u041e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0442\u044b \u0441\u043c\u043e\u0436\u0435\u0448\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0435.")) : 4 === e ? a.is_infected ? r.a.createElement("div", {
                        className: "OnboardTab"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__title"
                    }, "\u0422\u0435\u0431\u0435 \u043d\u0435 \u043f\u043e\u0432\u0435\u0437\u043b\u043e: \u0442\u044b \u0437\u0430\u0440\u0430\u0437\u0438\u043b\u0441\u044f!"), r.a.createElement("div", {
                        className: "OnboardTab__text"
                    }, "\u0422\u044b \u043f\u0435\u0440\u0435\u0448\u0435\u043b \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u0440\u0430\u0437\u0438\u043b\u0441\u044f \u0441\u0430\u043c \u0438 \u044f\u0432\u043b\u044f\u0435\u0448\u044c\u0441\u044f \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u0435\u043c."), r.a.createElement("div", {
                        className: "OnboardTab__profiles",
                        key: "avatars"
                    }, r.a.createElement("img", {
                        alt: "",
                        src: T.getEmojiLink("virus", 160),
                        className: "OnboardTab__profiles-virus"
                    }), r.a.createElement("div", {
                        className: "OnboardTab__profiles-avatars"
                    }, r.a.createElement("img", {
                        src: a.avatar_max,
                        alt: ""
                    }), i.referer && i.referer.avatar_max && r.a.createElement("img", {
                        src: i.referer.avatar_max,
                        alt: ""
                    }))), r.a.createElement("div", {
                        className: "OnboardTab__text",
                        onClick: function () {
                            return T.openLink("https://vk.com/paper_scroll")
                        }
                    }, "\u0422\u0435\u0431\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0436\u0438\u0442\u044c 24 \u0447\u0430\u0441\u0430. \u0427\u0442\u043e\u0431\u044b \u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u0435\u0442\u044c, \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e: \u043e\u043d\u043e \u0435\u0441\u0442\u044c \u0432 \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0435. \u041d\u0430\u043a\u043e\u043f\u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0440\u0443\u043b\u043e\u043d\u043e\u0432 \u0438 \u043e\u0431\u043c\u0435\u043d\u044f\u0439 \u0438\u0445!", r.a.createElement("br", null), r.a.createElement("br", null), "\u0410 \u043c\u044b \u0434\u0430\u0440\u0438\u043c \u0442\u0435\u0431\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0431\u043e\u043d\u0443\u0441. ", r.a.createElement("br", null), "\u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0438\u0433\u0440\u044b \u0432 ", r.a.createElement("b", null, "\u043d\u0430\u0448\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"), ". \u0423\u0434\u0430\u0447\u0438!"), r.a.createElement("div", {
                        className: "OnboardTab__bonus"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__bonus-item"
                    }, "1 ", T.getEmojiPic("mask", 30)), r.a.createElement("div", {
                        className: "OnboardTab__bonus-item"
                    }, "10 ", T.getEmojiPic("toilet", 36)))) : r.a.createElement("div", {
                        className: "OnboardTab"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__title"
                    }, "\u0422\u0435\u0431\u0435 \u043f\u043e\u0432\u0435\u0437\u043b\u043e: \u0442\u044b \u0437\u0434\u043e\u0440\u043e\u0432!"), r.a.createElement("div", {
                        className: "OnboardTab__text"
                    }, i.referer ? "\u0422\u044b \u043f\u0435\u0440\u0435\u0448\u0435\u043b \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0435 \u0437\u0430\u0440\u0430\u0437\u0438\u043b\u0441\u044f." : "\u0422\u044b \u043f\u0435\u0440\u0435\u0448\u0435\u043b \u0432 \u0438\u0433\u0440\u0443 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0438 \u0435\u0449\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u043b \u0437\u0430\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f."), r.a.createElement("div", {
                        className: "OnboardTab__profiles"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__profiles-avatars",
                        key: "avatars"
                    }, r.a.createElement("img", {
                        src: a.avatar_max,
                        alt: ""
                    }), i.referer && r.a.createElement("img", {
                        src: i.referer.avatar_max,
                        alt: ""
                    }))), r.a.createElement("div", {
                        className: "OnboardTab__text",
                        onClick: function () {
                            return T.openLink("https://vk.com/paper_scroll")
                        }
                    }, "\u041d\u043e \u0431\u0443\u0434\u044c \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u0435\u043d: \u044d\u0442\u043e\u0442 \u043c\u0438\u0440 \u0441\u0443\u0440\u043e\u0432 \u0438 \u0431\u0435\u0441\u043f\u043e\u0449\u0430\u0434\u0435\u043d, \u0438 \u043f\u043e\u0434 \u0443\u0433\u0440\u043e\u0437\u043e\u0439 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e.", r.a.createElement("br", null), r.a.createElement("br", null), "\u041c\u044b \u0434\u0430\u0440\u0438\u043c \u0442\u0435\u0431\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0431\u043e\u043d\u0443\u0441. ", r.a.createElement("br", null), "\u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0438\u0433\u0440\u044b \u0432 ", r.a.createElement("b", null, "\u043d\u0430\u0448\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"), ". \u0423\u0434\u0430\u0447\u0438!"), r.a.createElement("div", {
                        className: "OnboardTab__bonus"
                    }, r.a.createElement("div", {
                        className: "OnboardTab__bonus-item"
                    }, "1 ", T.getEmojiPic("lotion", 100)))) : void 0
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.user.object
                        , a = g.a.parse(window.location.search)
                        , n = V()({
                        Onboard: !0,
                        "Onboard--infected": t.is_infected && 4 === this.state.openedPage
                    })
                        , i = V()({
                        Onboard__navbar: !0,
                        "Onboard__navbar--ios": "mobile_iphone" === a.vk_platform
                    });
                    return r.a.createElement("div", {
                        className: n
                    }, this.renderOnboardTab(this.state.openedPage), r.a.createElement("div", {
                        className: i
                    }, r.a.createElement("div", {
                        className: "Onboard__navbar-container"
                    }, r.a.createElement("div", {
                        className: "Onboard__navbar-progress"
                    }, r.a.createElement("span", {
                        style: {
                            width: this.getProgressWidth(this.state.openedPage)
                        }
                    })), 4 !== this.state.openedPage ? r.a.createElement("div", {
                        className: "Onboard__navbar-button"
                    }, r.a.createElement(Y, {
                        onClick: function () {
                            return e.openNextPage()
                        }
                    }, "\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c ", r.a.createElement("img", {
                        src: We.a,
                        className: "Onboard__navbar-icon",
                        alt: ""
                    }))) : r.a.createElement("div", {
                        className: "Onboard__navbar-button"
                    }, r.a.createElement(Y, {
                        onClick: function () {
                            return e.completeOnboard()
                        }
                    }, "\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443")))))
                }
            }]),
                a
        }(r.a.Component)
            , Ue = {
            setActiveTab: N,
            setUserData: function (e, t) {
                return {
                    type: "SET_USER_DATA",
                    key: e,
                    value: t
                }
            }
        }
            , Fe = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user
                }
            }
        ), Ue)(xe)
            , Ve = (a(190),
            a(191),
            a(41))
            , He = a.n(Ve)
            , Ke = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                var e;
                Object(d.a)(this, a);
                for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++)
                    i[o] = arguments[o];
                return (e = t.call.apply(t, [this].concat(i))).renderToast = function (e, t) {
                    var a = "primary"
                        , n = "primary";
                    ["error", "accent"].includes(e.category) && (a = e.category),
                    "error" === e.category && (n = "negative"),
                    "accent" === e.category && (n = "accent");
                    var i = V()(["Toast", "Toast--".concat(a)]);
                    return r.a.createElement("div", {
                        className: i,
                        key: e.id
                    }, r.a.createElement("div", {
                        className: "Toast__container"
                    }, r.a.createElement("div", {
                        className: "Toast__head"
                    }, r.a.createElement("div", {
                        className: "Toast__head-title"
                    }, e.title), r.a.createElement("div", {
                        className: "Toast__head-button",
                        onClick: function () {
                            return window.history.back()
                        }
                    }, r.a.createElement("img", {
                        src: He.a,
                        alt: ""
                    }))), r.a.createElement("div", {
                        className: "Toast__message"
                    }, e.message), e.button && r.a.createElement("div", {
                        className: "Toast__button"
                    }, r.a.createElement(Y, {
                        stretched: !0,
                        color: n,
                        children: e.button,
                        onClick: function () {
                            e.buttonCallback && e.buttonCallback(),
                                window.history.back()
                        }
                    }))))
                }
                    ,
                    e
            }

            return Object(p.a)(a, [{
                key: "render",
                value: function () {
                    var e = this.props.app.toasts;
                    return e[0] ? this.renderToast(e[0], 0) : null
                }
            }]),
                a
        }(r.a.Component)
            , Ge = Object(f.c)((function (e) {
                return {
                    app: e.app
                }
            }
        ), {})(Ke)
            , Ye = (a(192),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).buyBonus = function (e) {
                        K.sendEvent("bonuses:buy", {
                            type_id: e
                        })
                    }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.app
                            , a = this.props.user.object
                            , n = t.bonusWindow.params
                            , i = this.props.bonuses.items.find((function (e) {
                                return n.type_id === e.type_id
                            }
                        ));
                        if (!i)
                            return r.a.createElement("div", {
                                className: "BonusWindow"
                            }, "\u0411\u043e\u043d\u0443\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");
                        var o = {
                            backgroundImage: "url('".concat(T.getEmojiLink(i.icon, 160), "')")
                        }
                            , c = T.formatNumber(i.cost / 1e3)
                            , s = T.formatNumber(i.speed / 1e3)
                            , l = 0 === i.current_count && i.earned_filter <= a.earned_balance
                            , m = V()({
                            BonusWindow: !0,
                            "BonusWindow--reversed": ["mechanical_arm"].includes(i.icon)
                        });
                        return r.a.createElement("div", {
                            className: m
                        }, r.a.createElement("div", {
                            className: "BonusWindow__bg",
                            style: o
                        }), r.a.createElement("div", {
                            className: "BonusWindow__content"
                        }, r.a.createElement("div", {
                            className: "BonusWindow__title"
                        }, i.name), r.a.createElement("div", {
                            className: "BonusWindow__speed"
                        }, "\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: +", s, "/\u0441\u043a\u0440\u043e\u043b\u043b"), l && r.a.createElement("div", {
                            className: "BonusWindow__description"
                        }, "\u0415\u0449\u0435 \u043d\u0435 \u043a\u0443\u043f\u043b\u0435\u043d"), i.current_count > 0 && r.a.createElement("div", {
                            className: "BonusWindow__description"
                        }, "\u0423\u0436\u0435 \u043a\u0443\u043f\u043b\u0435\u043d"), i.earned_filter > a.earned_balance && r.a.createElement("div", {
                            className: "BonusWindow__limit"
                        }, "\u0411\u043e\u043d\u0443\u0441 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043a\u043e\u0433\u0434\u0430 \u0442\u044b \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0448\u044c ", r.a.createElement("br", null), " ", T.formatNumber(i.earned_filter / 1e3), " ", T.getEmojiPic("toilet", 100), " \u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f \u0438\u0433\u0440\u044b"), l && r.a.createElement("div", {
                            className: "BonusWindow__button"
                        }, r.a.createElement(Y, {
                            stretched: !0,
                            color: "primary",
                            disabled: a.balance < i.cost,
                            onClick: function () {
                                return e.buyBonus(i.type_id)
                            }
                        }, c, " ", T.getEmojiPic("toilet", 36)))))
                    }
                }]),
                    a
            }(r.a.Component))
            , qe = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    bonuses: e.bonuses
                }
            }
        ), {})(Ye)
            , Je = (a(193),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).shareStory = function () {
                        window.history.back();
                        var t = h.a.getStartParams()
                            , a = "desktop_web" !== t.platform;
                        h.a.send("VKWebAppShowStoryBox", {
                            background_type: a ? "none" : "image",
                            url: a ? null : T.getImageLink("default_story"),
                            stickers: [{
                                sticker_type: "renderable",
                                sticker: {
                                    content_type: "image",
                                    can_delete: !1,
                                    url: T.getImageLink("story_sticker"),
                                    transform: {
                                        relation_width: .2
                                    },
                                    clickable_zones: [{
                                        action_type: "app",
                                        action: {
                                            app_id: t.appId,
                                            app_context: "open"
                                        }
                                    }]
                                }
                            }]
                        }).then((function () {
                                K.sendEvent("achievements:trigger", {
                                    type: "story_share"
                                })
                            }
                        )).catch((function (t) {
                                4 !== t.error_data.error_code && e.props.addToast("\u041e\u0448\u0438\u0431\u043a\u0430", "\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u0439 :(", "\u041e\u043a\u0435\u0439", "error")
                            }
                        ))
                    }
                        ,
                        e.shareWall = function () {
                            window.history.back();
                            var t = h.a.getStartParams();
                            h.a.send("VKWebAppShare", {
                                link: "https://vk.com/app".concat(t.appId, "#ref=").concat(t.userId)
                            }).then((function () {
                                    K.sendEvent("achievements:trigger", {
                                        type: "wall_share"
                                    })
                                }
                            )).catch((function (t) {
                                    4 !== t.error_data.error_code && e.props.addToast("\u041e\u0448\u0438\u0431\u043a\u0430", "\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u0441\u044b\u043b\u043e\u043a :(", "\u041e\u043a\u0435\u0439", "error")
                                }
                            ))
                        }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        return r.a.createElement("div", {
                            className: "ShareWindow"
                        }, r.a.createElement("div", {
                            className: "ShareWindow__content"
                        }, r.a.createElement("div", {
                            className: "ShareWindow__title"
                        }, "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"), r.a.createElement("div", {
                            className: "ShareWindow__buttons"
                        }, r.a.createElement(Y, {
                            color: "primary",
                            stretched: !0,
                            onClick: this.shareStory
                        }, "\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u043e \u0441\u0442\u0438\u043a\u0435\u0440\u043e\u043c"), r.a.createElement(Y, {
                            color: "primary",
                            stretched: !0,
                            onClick: this.shareWall
                        }, "\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"))))
                    }
                }]),
                    a
            }(r.a.Component))
            , ze = {
            addToast: P
        }
            , Xe = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    bonuses: e.bonuses
                }
            }
        ), ze)(Je)
            , Qe = (a(194),
            a(195),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    return Object(d.a)(this, a),
                        t.apply(this, arguments)
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        return r.a.createElement("div", {
                            className: "FallbackContainer"
                        }, r.a.createElement("div", {
                            className: "FallbackContainer__loader"
                        }, r.a.createElement("div", null), r.a.createElement("div", null)))
                    }
                }]),
                    a
            }(r.a.Component))
            , Ze = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                var e;
                Object(d.a)(this, a);
                for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                    r[i] = arguments[i];
                return (e = t.call.apply(t, [this].concat(r))).loadProfileData = Object(m.a)(l.a.mark((function t() {
                        var a, n;
                        return l.a.wrap((function (t) {
                                for (; ;)
                                    switch (t.prev = t.next) {
                                        case 0:
                                            return a = e.props.app.profileWindow,
                                                t.prev = 1,
                                                t.next = 4,
                                                T.getUsers([a.params.user_id]);
                                        case 4:
                                            n = t.sent,
                                                e.props.addCacheProfiles(n),
                                                t.next = 11;
                                            break;
                                        case 8:
                                            t.prev = 8,
                                                t.t0 = t.catch(1),
                                                console.log("profileWindow", t.t0);
                                        case 11:
                                        case "end":
                                            return t.stop()
                                    }
                            }
                        ), t, null, [[1, 8]])
                    }
                ))),
                    e
            }

            return Object(p.a)(a, [{
                key: "componentDidMount",
                value: function () {
                    var e = this.props.app.profileWindow;
                    this.loadProfileData().then(),
                        K.sendEvent("profile:info", {
                            user_id: e.params.user_id
                        })
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app
                        , a = this.props.user.object
                        , n = t.profileWindow
                        , i = this.props.app.profiles
                        , o = n.user
                        , c = T.findProfile(i, n.params.user_id);
                    if (!("id" in c) || !("user_id" in o))
                        return r.a.createElement("div", {
                            className: "ProfileWindow"
                        }, r.a.createElement(Qe, null));
                    var s = T.formatMainBalance(o.improvements_sum / 1e3, o.improvements_sum > 25e4 ? 0 : 3)
                        , l = T.formatMainBalance(o.bonuses_sum / 1e3, o.bonuses_sum > 5e4 ? 0 : 3);
                    return r.a.createElement("div", {
                        className: "ProfileWindow"
                    }, r.a.createElement("div", {
                        className: "ProfileWindow__profile",
                        onClick: function () {
                            T.openLink("https://vk.com/id" + n.params.user_id)
                        }
                    }, r.a.createElement("div", {
                        className: "ProfileWindow__profile-avatar"
                    }, r.a.createElement("img", {
                        src: c.photo_100 || c.photo_200 || c.photo_50 || "",
                        alt: ""
                    })), r.a.createElement("div", {
                        className: "ProfileWindow__profile-data"
                    }, r.a.createElement("div", {
                        className: "ProfileWindow__profile-name"
                    }, c.first_name, " ", c.last_name), r.a.createElement("div", {
                        className: "ProfileWindow__profile-balance"
                    }, T.formatMainBalance(n.params.balance / 1e3, 0), " ", T.getEmojiPic("toilet", 36)))), r.a.createElement("div", {
                        className: "ProfileWindow__stats"
                    }, r.a.createElement("div", {
                        className: "ProfileWindow__stats-counters"
                    }, r.a.createElement("span", null, "+", s, "/\u0441\u0435\u043a,"), r.a.createElement("span", null, "+", l, "/\u0441\u043a\u0440\u043e\u043b\u043b")), r.a.createElement("div", {
                        className: "ProfileWindow__stats-delimiter"
                    }), r.a.createElement("div", {
                        className: "ProfileWindow__stats-rows"
                    }, r.a.createElement("div", {
                        className: "ProfileWindow__stats-row"
                    }, o.achievements_count, " ", T.declOfNum(o.achievements_count, ["\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435", "\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f", "\u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439"])), r.a.createElement("div", {
                        className: "ProfileWindow__stats-row"
                    }, o.improvements_count, " ", T.declOfNum(o.improvements_count, ["\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435", "\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f", "\u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439"])), r.a.createElement("div", {
                        className: "ProfileWindow__stats-row"
                    }, o.bonuses_count, " ", T.declOfNum(o.bonuses_count, ["\u0431\u043e\u043d\u0443\u0441", "\u0431\u043e\u043d\u0443\u0441\u0430", "\u0431\u043e\u043d\u0443\u0441\u043e\u0432"])))), r.a.createElement("div", {
                        className: "ProfileWindow__buttons"
                    }, o.user_id !== a.user_id && r.a.createElement(Y, {
                        stretched: !0,
                        color: "primary",
                        disabled: !1,
                        onClick: function () {
                            e.props.setActiveWindow("transfer", {
                                user: c
                            })
                        }
                    }, "\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438"), o.is_steal_available && r.a.createElement(Y, {
                        stretched: !0,
                        color: "negative",
                        disabled: !1,
                        onClick: function () {
                            K.sendEvent("steal", {
                                user_id: o.user_id
                            }),
                                e.props.hideActiveWindow()
                        }
                    }, "\u0423\u043a\u0440\u0430\u0441\u0442\u044c \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c")))
                }
            }]),
                a
        }(r.a.Component)
            , $e = {
            addCacheProfiles: j,
            setActiveWindow: C,
            hideActiveWindow: M,
            setWindowParam: W
        }
            , et = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    items: e.items,
                    disinfectants: e.disinfectants
                }
            }
        ), $e)(Ze)
            , tt = (a(196),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a(e) {
                    var n;
                    Object(d.a)(this, a),
                        (n = t.call(this, e)).onObjectSelect = function (e) {
                            n.setState({
                                selected_object: e
                            })
                        }
                        ,
                        n.getSelectedObject = function () {
                            return n.objects[n.state.selected_object] || n.objects[0]
                        }
                        ,
                        n.onAmountInput = function (e) {
                            var t = e.split(",").join(".")
                                , a = n.getSelectedObject();
                            n.setState({
                                amount: "" === e ? "" : "balance" === a.object_type ? T.roundFloat(t) : T.roundInt(t)
                            })
                        }
                        ,
                        n.submitTransfer = function () {
                            n.props.setWindowParam("transfer", "fetching", !0);
                            var e = n.props.app.transferWindow.params.user
                                , t = n.getSelectedObject()
                                , a = "balance" === t.object_type ? 1e3 * n.state.amount : n.state.amount;
                            K.sendEvent("transfer", [e.id, T.roundInt(a), t.object_type, t.object_type_id])
                        }
                    ;
                    var r = n.props.user.object
                        , i = n.props.items.items
                        , o = n.props.disinfectants.items;
                    return n.objects = [],
                        n.objects.push({
                            icon: "toilet",
                            name: "\u0420\u0443\u043b\u043e\u043d\u044b",
                            count: r.balance,
                            object_type: "balance",
                            object_type_id: 0
                        }),
                        o.forEach((function (e) {
                                n.objects.push({
                                    icon: e.icon,
                                    name: e.name,
                                    count: e.current_count,
                                    object_type: "disinfectants",
                                    object_type_id: e.type_id
                                })
                            }
                        )),
                        i.forEach((function (e) {
                                n.objects.push({
                                    icon: e.icon,
                                    name: e.name,
                                    count: e.current_count,
                                    object_type: "items",
                                    object_type_id: e.type_id
                                })
                            }
                        )),
                        n.state = {
                            amount: "",
                            fetching: !1,
                            selected_object: 0
                        },
                        n
                }

                return Object(p.a)(a, [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props.app.transferWindow.params.user;
                        K.sendEvent("transfer:info", {
                            user_id: e.id
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.app.transferWindow
                            , a = t.params.user
                            , n = a.photo_200 || a.photo_100
                            , i = a.first_name_dat
                            , o = a.domain || "@id".concat(a.id)
                            , c = this.getSelectedObject();
                        if (t.is_finished) {
                            var s = V()({
                                TransferWindow: !0,
                                "TransferWindow--error": !t.is_success
                            })
                                , l = t.result.transfer;
                            return r.a.createElement("div", {
                                className: s
                            }, r.a.createElement("div", {
                                className: "TransferWindow__profile"
                            }, r.a.createElement("div", {
                                className: "TransferWindow__profile-avatar"
                            }, r.a.createElement("img", {
                                src: n,
                                alt: ""
                            })), r.a.createElement("div", {
                                className: "TransferWindow__profile-data"
                            }, r.a.createElement("div", {
                                className: "TransferWindow__profile-name"
                            }, "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 ", i), r.a.createElement("div", {
                                className: "TransferWindow__profile-domain"
                            }, "@", o))), r.a.createElement("div", {
                                className: "TransferWindow__result"
                            }, r.a.createElement("div", {
                                className: "TransferWindow__result-title"
                            }, t.is_success ? "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d" : t.result), r.a.createElement("div", {
                                className: "TransferWindow__result-description"
                            }, t.is_success ? r.a.createElement("span", null, "id: ", l.transfer_id, ", eid: ", l.external_id, ", t: ", l.create_date) : r.a.createElement("span", null, "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d")), r.a.createElement("div", {
                                className: "TransferWindow__result-button"
                            }, r.a.createElement(Y, {
                                color: t.is_success ? "primary" : "negative",
                                stretched: !0,
                                onClick: function () {
                                    return window.history.back()
                                }
                            }, "\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))
                        }
                        return r.a.createElement("div", {
                            className: "TransferWindow"
                        }, r.a.createElement("div", {
                            className: "TransferWindow__profile"
                        }, r.a.createElement("div", {
                            className: "TransferWindow__profile-avatar"
                        }, r.a.createElement("img", {
                            src: n,
                            alt: ""
                        })), r.a.createElement("div", {
                            className: "TransferWindow__profile-data"
                        }, r.a.createElement("div", {
                            className: "TransferWindow__profile-name"
                        }, "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 ", i), r.a.createElement("div", {
                            className: "TransferWindow__profile-domain"
                        }, "@", o))), t.show_warning && r.a.createElement("div", {
                            className: "TransferWindow__warning"
                        }, "\u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u044d\u0442\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443, \u043c\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043d\u0430 \u043d\u0435\u0433\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0436\u0430\u043b\u043e\u0431"), r.a.createElement("div", {
                            className: "TransferWindow__objects"
                        }, r.a.createElement(q.d, {
                            slideWidth: "100%",
                            bullets: "dark",
                            align: "center",
                            style: {
                                height: 110
                            },
                            onChange: this.onObjectSelect
                        }, this.objects.map((function (e) {
                                return r.a.createElement("div", {
                                    className: "TransferWindow__object-wrapper",
                                    key: [e.object_type, e.object_type_id].join(" ")
                                }, r.a.createElement("div", {
                                    className: "TransferWindow__object"
                                }, r.a.createElement("div", {
                                    className: "TransferWindow__object-icon"
                                }, T.getEmojiPic(e.icon, 100)), r.a.createElement("div", {
                                    className: "TransferWindow__object-data"
                                }, r.a.createElement("div", {
                                    className: "TransferWindow__object-name"
                                }, e.name), r.a.createElement("div", {
                                    className: "TransferWindow__object-info"
                                }, e.count > 0 ? "balance" === e.object_type ? T.formatMainBalance(e.count / 1e3, 3) : T.formatNumber(e.count) : "\u041d\u0435\u0442", "balance" === e.object_type ? " \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0435" : " \u0432 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0435"))))
                            }
                        )))), r.a.createElement("div", {
                            className: "TransferWindow__input"
                        }, r.a.createElement("input", {
                            type: "number",
                            min: "0",
                            placeholder: "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",
                            value: this.state.amount,
                            onChange: function (t) {
                                return e.onAmountInput(t.target.value)
                            }
                        })), r.a.createElement("div", {
                            className: "TransferWindow__button"
                        }, r.a.createElement(Y, {
                            stretched: !0,
                            color: "primary",
                            disabled: t.fetching || ("balance" === c.object_type ? c.count / 1e3 : c.count) <= 0 || this.state.amount <= 0 || this.state.amount > ("balance" === c.object_type ? c.count / 1e3 : c.count),
                            onClick: function () {
                                return e.submitTransfer()
                            }
                        }, "\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438")))
                    }
                }]),
                    a
            }(r.a.Component))
            , at = {
            setWindowParam: W
        }
            , nt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    items: e.items,
                    disinfectants: e.disinfectants
                }
            }
        ), at)(tt)
            , rt = (a(197),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).buyImprovement = function (e) {
                        K.sendEvent("improvements:buy", {
                            type_id: e
                        })
                    }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.app
                            , a = this.props.user.object
                            , n = t.improvementWindow.params
                            , i = this.props.improvements.items.find((function (e) {
                                return n.type_id === e.type_id
                            }
                        ));
                        if (!i)
                            return r.a.createElement("div", {
                                className: "ImprovementWindow"
                            }, "\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e");
                        var o = {
                            backgroundImage: "url('".concat(T.getEmojiLink(i.icon, 200), "')")
                        }
                            , c = T.formatNumber(i.current_cost / 1e3)
                            , s = T.formatNumber(i.speed / 1e3)
                            , l = T.roundFloat(i.speed * i.current_count / 1e3, !0);
                        return r.a.createElement("div", {
                            className: "ImprovementWindow"
                        }, r.a.createElement("div", {
                            className: "ImprovementWindow__bg",
                            style: o
                        }), r.a.createElement("div", {
                            className: "ImprovementWindow__content"
                        }, r.a.createElement("div", {
                            className: "ImprovementWindow__title"
                        }, i.name), r.a.createElement("div", {
                            className: "ImprovementWindow__speed"
                        }, "\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: +", s, "/\u0441\u0435\u043a"), r.a.createElement("div", {
                            className: "ImprovementWindow__description"
                        }, "\u0423 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c: ", i.current_count, " ", i.current_count > 0 ? "(+".concat(l, "/\u0441\u0435\u043a)") : "\u0448\u0442."), r.a.createElement("div", {
                            className: "ImprovementWindow__quote"
                        }, "\xab", i.description, "\xbb"), r.a.createElement("div", {
                            className: "ImprovementWindow__button"
                        }, r.a.createElement(Y, {
                            stretched: !0,
                            color: "primary",
                            disabled: a.balance < i.current_cost,
                            onClick: function () {
                                return e.buyImprovement(i.type_id)
                            }
                        }, c, " ", T.getEmojiPic("toilet", 36)))))
                    }
                }]),
                    a
            }(r.a.Component))
            , it = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    improvements: e.improvements
                }
            }
        ), {})(rt)
            , ot = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a() {
                var e;
                Object(d.a)(this, a);
                for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                    r[i] = arguments[i];
                return (e = t.call.apply(t, [this].concat(r))).onBackdropClick = function () {
                    window.history.back()
                }
                    ,
                    e
            }

            return Object(p.a)(a, [{
                key: "renderWindow",
                value: function (e, t) {
                    if (this.props.app.activeWindow === e)
                        return t
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app
                        , a = V()({
                        App__backdrop: !0,
                        "App__backdrop--active": t.toasts.length > 0 || null !== t.activeWindow
                    });
                    return r.a.createElement("div", {
                        className: "App"
                    }, r.a.createElement("div", {
                        className: "App__container"
                    }, this.props.children), r.a.createElement("div", {
                        className: a,
                        onClick: function () {
                            return e.onBackdropClick()
                        }
                    }), r.a.createElement("div", {
                        className: "App__wrapper"
                    }, r.a.createElement(Ge, null), null !== t.activeWindow && r.a.createElement("div", {
                        className: "App__window"
                    }, r.a.createElement("div", {
                        className: "App__window-container"
                    }, this.renderWindow("bonus", r.a.createElement(qe, null)), this.renderWindow("share", r.a.createElement(Xe, null)), this.renderWindow("profile", r.a.createElement(et, null)), this.renderWindow("transfer", r.a.createElement(nt, null)), this.renderWindow("improvement", r.a.createElement(it, null))))))
                }
            }]),
                a
        }(r.a.Component)
            , ct = Object(f.c)((function (e) {
                return {
                    app: e.app
                }
            }
        ), {})(ot)
            , st = (a(198),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    return Object(d.a)(this, a),
                        t.apply(this, arguments)
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this.props.app.error;
                        return r.a.createElement("div", {
                            className: "Error"
                        }, r.a.createElement("div", {
                            className: "Error__container"
                        }, r.a.createElement("div", {
                            className: "Error__container-message"
                        }, e.description), 4 === e.code && r.a.createElement("div", {
                            className: "Error__container-info",
                            onClick: function () {
                                return T.openLink("https://vk.me/paper_scroll")
                            }
                        }, '\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 "\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430" \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 ', r.a.createElement("b", null, "@paper_scroll"), "."), r.a.createElement("div", {
                            className: "Error__container-button"
                        }, r.a.createElement(Y, {
                            onClick: function () {
                                return window.location.reload(!0)
                            }
                        }, "\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")), r.a.createElement("div", {
                            className: "Error__container-footer"
                        }, r.a.createElement("div", {
                            className: "Error__footer-mention"
                        }, r.a.createElement("a", {
                            href: "https://vk.com/paper_scroll",
                            target: "_blank",
                            rel: "noopener noreferrer"
                        }, "@paper_scroll")), r.a.createElement("div", {
                            className: "Error__footer-description"
                        }, "#", e.code, " - ", e.message))))
                    }
                }]),
                    a
            }(r.a.Component))
            , lt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user
                }
            }
        ), {})(st)
            , mt = (a(199),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).getTabCx = function (t) {
                        var a = e.props.app
                            , n = e.props.user.object;
                        return V()({
                            "NavBar__container-button": !0,
                            "NavBar__container-button--infected": n.is_infected,
                            "NavBar__container-button--active": a.openedTab === t
                        })
                    }
                        ,
                        e.openTab = function (t) {
                            e.props.setActiveTab(t)
                        }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.app
                            , a = this.props.user.object
                            , n = g.a.parse(window.location.search)
                            , i = V()({
                            NavBar__layout: !0,
                            "NavBar__layout--ios": "mobile_iphone" === n.vk_platform,
                            "NavBar__layout--hidden": null !== t.activeModal
                        });
                        return a.is_onboard_completed ? r.a.createElement("div", {
                            className: i
                        }, r.a.createElement("div", {
                            className: "NavBar__container"
                        }, r.a.createElement("div", {
                            className: this.getTabCx("main"),
                            onClick: function () {
                                return e.openTab("main")
                            }
                        }, r.a.createElement("span", {
                            className: "NavBar__icon-game"
                        })), r.a.createElement("div", {
                            className: this.getTabCx("information"),
                            onClick: function () {
                                return e.openTab("information")
                            }
                        }, r.a.createElement("span", {
                            className: "NavBar__icon-stats"
                        })), r.a.createElement("div", {
                            className: this.getTabCx("profile"),
                            onClick: function () {
                                return e.openTab("profile")
                            }
                        }, r.a.createElement("span", {
                            className: "NavBar__icon-profile"
                        })))) : null
                    }
                }]),
                    a
            }(r.a.Component))
            , ut = {
            setActiveTab: N
        }
            , dt = Object(f.c)((function (e) {
                return {
                    user: e.user,
                    app: e.app
                }
            }
        ), ut)(mt)
            , pt = (a(200),
            a(201),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    return Object(d.a)(this, a),
                        t.apply(this, arguments)
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        return r.a.createElement("div", {
                            className: "PanelHeaderDelimiter"
                        })
                    }
                }]),
                    a
            }(r.a.Component))
            , _t = Object(f.c)((function (e) {
                return {
                    app: e.app
                }
            }
        ), {})(pt)
            , vt = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).openTab = function (e) {
                        "friends" === e && n.loadFriendsList().then((function () {
                            }
                        )),
                            n.setState({
                                activeTab: e
                            })
                    }
                    ,
                    n.loadFriendsList = Object(m.a)(l.a.mark((function e() {
                            var t, a;
                            return l.a.wrap((function (e) {
                                    for (; ;)
                                        switch (e.prev = e.next) {
                                            case 0:
                                                return e.prev = 0,
                                                    e.next = 3,
                                                    T.loadUserFriends();
                                            case 3:
                                                t = e.sent,
                                                    n.props.addCacheProfiles(t),
                                                    a = T.arrayColumns(t, "id"),
                                                    n.props.setUserFriends(a),
                                                    K.sendEvent("users:balances", a),
                                                    e.next = 13;
                                                break;
                                            case 10:
                                                e.prev = 10,
                                                    e.t0 = e.catch(0),
                                                    console.log("ratingPanel", e.t0);
                                            case 13:
                                            case "end":
                                                return e.stop()
                                        }
                                }
                            ), e, null, [[0, 10]])
                        }
                    ))),
                    n.renderMainRating = function () {
                        var e = n.props.ratings.users;
                        return r.a.createElement("div", {
                            className: "RatingPanel__rows"
                        }, e.items.map((function (e, t) {
                                return r.a.createElement("div", {
                                    key: e.user_id,
                                    className: "RatingPanel__row",
                                    onClick: function () {
                                        return n.props.setActiveWindow("profile", {
                                            user_id: e.user_id,
                                            balance: e.balance
                                        })
                                    }
                                }, r.a.createElement("div", {
                                    className: "RatingPanel__row-place"
                                }, t + 1), r.a.createElement("div", {
                                    className: "RatingPanel__row-avatar"
                                }, r.a.createElement("img", {
                                    src: e.avatar,
                                    alt: ""
                                }), e.is_steal_available && r.a.createElement("div", {
                                    className: "RatingPanel__row-avatar--label"
                                })), r.a.createElement("div", {
                                    className: "RatingPanel__row-data"
                                }, r.a.createElement("div", {
                                    className: "RatingPanel__row-data-title"
                                }, e.first_name, " ", e.last_name), r.a.createElement("div", {
                                    className: "RatingPanel__row-data-value"
                                }, T.formatMainBalance(e.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))
                            }
                        )))
                    }
                    ,
                    n.renderFriendsRating = function () {
                        var e = []
                            , t = Object(c.a)(n.props.app.friends)
                            , a = n.props.user.object
                            , i = n.props.app.balances
                            , o = n.props.app.profiles;
                        return 0 === t.length ? r.a.createElement("div", {
                            className: "RatingPanel__rows"
                        }, r.a.createElement("div", {
                            className: "RatingPanel__rows-placeholder"
                        }, "\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439 \u043f\u0443\u0441\u0442")) : (t.forEach((function (t) {
                                e.push({
                                    id: t,
                                    balance: i[t.toString()] || 0
                                })
                            }
                        )),
                            e.push({
                                id: a.user_id,
                                balance: a.balance
                            }),
                            e = e.sort((function (e, t) {
                                    return t.balance - e.balance
                                }
                            )),
                            r.a.createElement("div", {
                                className: "RatingPanel__rows"
                            }, e.map((function (e, t) {
                                    var i = e.id === a.user_id ? a : T.findProfile(o, e.id)
                                        ,
                                        c = e.id === a.user_id ? a.avatar || a.avatar_max : i.photo_200 || i.photo_100 || i.photo_50;
                                    return r.a.createElement("div", {
                                        key: e.id,
                                        className: "RatingPanel__row",
                                        onClick: function () {
                                            return n.props.setActiveWindow("profile", {
                                                user_id: e.id,
                                                balance: e.balance
                                            })
                                        }
                                    }, r.a.createElement("div", {
                                        className: "RatingPanel__row-place"
                                    }, t + 1), r.a.createElement("div", {
                                        className: "RatingPanel__row-avatar"
                                    }, r.a.createElement("img", {
                                        src: c,
                                        alt: ""
                                    })), r.a.createElement("div", {
                                        className: "RatingPanel__row-data"
                                    }, r.a.createElement("div", {
                                        className: "RatingPanel__row-data-title"
                                    }, i.first_name, " ", i.last_name), r.a.createElement("div", {
                                        className: "RatingPanel__row-data-value"
                                    }, T.formatMainBalance(e.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))
                                }
                            ))))
                    }
                    ,
                    n.renderGroupsRating = function () {
                        var e = n.props.ratings.groups;
                        return r.a.createElement("div", {
                            className: "RatingPanel__rows"
                        }, e.items.map((function (e, t) {
                                return r.a.createElement("div", {
                                    className: "RatingPanel__row",
                                    key: e.group_id,
                                    onClick: function () {
                                        return T.openLink("https://vk.com/club" + e.group_id)
                                    }
                                }, r.a.createElement("div", {
                                    className: "RatingPanel__row-place"
                                }, t + 1), r.a.createElement("div", {
                                    className: "RatingPanel__row-avatar"
                                }, r.a.createElement("img", {
                                    src: e.avatar,
                                    alt: ""
                                })), r.a.createElement("div", {
                                    className: "RatingPanel__row-data"
                                }, r.a.createElement("div", {
                                    className: "RatingPanel__row-data-title"
                                }, e.name), r.a.createElement("div", {
                                    className: "RatingPanel__row-data-value"
                                }, T.formatMainBalance(e.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))
                            }
                        )))
                    }
                    ,
                    n.tabs = [{
                        name: "\u041e\u0431\u0449\u0438\u0439",
                        type: "main"
                    }, {
                        name: "\u0414\u0440\u0443\u0437\u044c\u044f",
                        type: "friends"
                    }, {
                        name: "\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430",
                        type: "groups"
                    }],
                    n.state = {
                        activeTab: "main"
                    },
                    n
            }

            return Object(p.a)(a, [{
                key: "componentDidMount",
                value: function () {
                    setTimeout((function () {
                            K.sendEvent("ratings:update")
                        }
                    ), 300),
                        this.updateInverval = setInterval((function () {
                                K.sendEvent("ratings:update")
                            }
                        ), 3e3 + T.rand(0, 3e3))
                }
            }, {
                key: "componentWillUnmount",
                value: function () {
                    clearInterval(this.updateInverval)
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.user.object
                        , a = this.props.group.object
                        , n = this.props.ratings;
                    return r.a.createElement("div", {
                        className: "RatingPanel"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__tabs"
                    }, this.tabs.map((function (t) {
                            return r.a.createElement("div", {
                                key: t.type,
                                children: t.name,
                                onClick: function () {
                                    return e.openTab(t.type)
                                },
                                className: V()({
                                    RatingPanel__tab: !0,
                                    "RatingPanel__tab--active": e.state.activeTab === t.type
                                })
                            })
                        }
                    ))), r.a.createElement(_t, null), r.a.createElement("div", {
                        className: "RatingPanel__content"
                    }, "main" === this.state.activeTab && this.renderMainRating(), "friends" === this.state.activeTab && this.renderFriendsRating(), "groups" === this.state.activeTab && this.renderGroupsRating()), "main" === this.state.activeTab && null !== n.users.current_place && r.a.createElement("div", {
                        className: "RatingPanel__profile"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-container"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-place"
                    }, "~", n.users.current_place), r.a.createElement("div", {
                        className: "RatingPanel__profile-avatar"
                    }, r.a.createElement("img", {
                        src: t.avatar || t.avatar_max,
                        alt: ""
                    })), r.a.createElement("div", {
                        className: "RatingPanel__profile-data"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-name"
                    }, t.first_name, " ", t.last_name), r.a.createElement("div", {
                        className: "RatingPanel__profile-value"
                    }, T.formatMainBalance(t.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))), "groups" === this.state.activeTab && null !== n.groups.current_place && r.a.createElement("div", {
                        className: "RatingPanel__profile"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-container"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-place"
                    }, "~", n.groups.current_place), r.a.createElement("div", {
                        className: "RatingPanel__profile-avatar"
                    }, r.a.createElement("img", {
                        src: a.avatar || a.avatar_max,
                        alt: ""
                    })), r.a.createElement("div", {
                        className: "RatingPanel__profile-data"
                    }, r.a.createElement("div", {
                        className: "RatingPanel__profile-name"
                    }, a.name), r.a.createElement("div", {
                        className: "RatingPanel__profile-value"
                    }, T.formatMainBalance(a.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))))
                }
            }]),
                a
        }(r.a.Component)
            , ft = {
            setActiveWindow: C,
            setUserFriends: A,
            addCacheProfiles: j
        }
            , bt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    group: e.group,
                    ratings: e.ratings
                }
            }
        ), ft)(vt)
            , ht = (a(202),
            a(77))
            , Et = a.n(ht)
            , gt = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).shareLink = function () {
                        var e = h.a.getStartParams()
                            , t = "https://vk.com/app".concat(e.appId, "#t=").concat(e.userId);
                        h.a.supports("VKWebAppCopyText") ? h.a.send("VKWebAppCopyText", {
                            text: t
                        }).then((function () {
                                n.props.setSnackbar("success", "\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430")
                            }
                        )).catch((function (e) {
                                console.log("shareLink", e)
                            }
                        )) : "desktop_web" === e.platform ? h.a.send("VKWebAppShowWallPostBox", {
                            link_button: "open_url",
                            link_image: "https://pp.userapi.com/cOce1YivlB304fwEe8APBf_lV_Q6JqXvSucRog/j5LMQrymQs4.jpg",
                            link_title: "Paper Scroll",
                            message: "\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u043c\u043d\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0432 #PaperScroll",
                            attachments: t
                        }).then((function () {
                                n.props.setSnackbar("success", "\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")
                            }
                        )).catch((function (e) {
                                console.log("shareLink", e)
                            }
                        )) : h.a.send("VKWebAppShare", {
                            link: t
                        }).then((function () {
                                n.props.setSnackbar("success", "\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")
                            }
                        )).catch((function (e) {
                                console.log("shareLink", e)
                            }
                        ))
                    }
                    ,
                    n.openWindow = function (e) {
                        n.props.setActiveWindow("transfer", {
                            user: e
                        })
                    }
                    ,
                    n.onSearch = function (e) {
                        n.setState({
                            search: e
                        })
                    }
                    ,
                    n.loadFriendsList = function () {
                        T.loadUserFriends().then((function (e) {
                                n.props.addCacheProfiles(e);
                                var t = T.arrayColumns(e, "id");
                                n.props.setUserFriends(t),
                                    K.sendEvent("users:balances", t)
                            }
                        )).catch((function (e) {
                                console.error("transferPanel", e.code, e.type),
                                    console.error("transferPanel", e.toString()),
                                1 === e.code && setTimeout((function () {
                                        return n.loadFriendsList()
                                    }
                                ), 1e3)
                            }
                        ))
                    }
                    ,
                    n.state = {
                        search: "",
                        users: []
                    },
                    n.loadFriendsList(),
                    n.lastSearch = "",
                    n.updateInverval = null,
                    n
            }

            return Object(p.a)(a, [{
                key: "componentDidMount",
                value: function () {
                    var e = this;
                    this.updateInverval = setInterval(Object(m.a)(l.a.mark((function t() {
                            var a, n, r;
                            return l.a.wrap((function (t) {
                                    for (; ;)
                                        switch (t.prev = t.next) {
                                            case 0:
                                                if (e.state.search === e.lastSearch) {
                                                    t.next = 25;
                                                    break
                                                }
                                                if (e.lastSearch = e.state.search,
                                                (a = e.state.search).includes("vk.com/") && (a = a.substr(a.indexOf("vk.com/") + 7)).startsWith("id") && (a = a.substr(2)),
                                                a.startsWith("@") && (a = a.substr(1)),
                                                    n = [],
                                                    t.prev = 6,
                                                    !(parseInt(a) > 0 || e.state.search.includes("vk.com/") || e.state.search.startsWith("@"))) {
                                                    t.next = 13;
                                                    break
                                                }
                                                return t.next = 10,
                                                    T.getUsers([a]);
                                            case 10:
                                                n = t.sent,
                                                    t.next = 16;
                                                break;
                                            case 13:
                                                return t.next = 15,
                                                    T.searchUsers(a);
                                            case 15:
                                                n = t.sent;
                                            case 16:
                                                t.next = 21;
                                                break;
                                            case 18:
                                                t.prev = 18,
                                                    t.t0 = t.catch(6),
                                                    console.error("transferPanel", t.t0);
                                            case 21:
                                                e.props.addCacheProfiles(n),
                                                    r = T.arrayColumns(n, "id"),
                                                    e.state.users = r,
                                                r.length > 0 && K.sendEvent("users:balances", r);
                                            case 25:
                                            case "end":
                                                return t.stop()
                                        }
                                }
                            ), t, null, [[6, 18]])
                        }
                    ))), 450)
                }
            }, {
                key: "componentWillUnmount",
                value: function () {
                    clearInterval(this.updateInverval)
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.state.search
                        , a = this.props.app
                        , n = a.profiles
                        , i = a.balances
                        , o = "" === t ? Object(c.a)(a.friends) : Object(c.a)(this.state.users);
                    return o = (o = o.map((function (e) {
                            return {
                                user_id: e,
                                balance: i[e.toString()] || 0
                            }
                        }
                    ))).sort((function (e, t) {
                            return t.balance - e.balance
                        }
                    )),
                        r.a.createElement("div", {
                            className: "TransferPanel"
                        }, r.a.createElement(_t, null), r.a.createElement("div", {
                            className: "TransferPanel__search"
                        }, r.a.createElement("input", {
                            placeholder: "\u041f\u043e\u0438\u0441\u043a...",
                            value: this.state.search,
                            onChange: function (t) {
                                return e.onSearch(t.target.value)
                            }
                        }), r.a.createElement("img", {
                            src: Et.a,
                            alt: "",
                            onClick: function () {
                                return e.shareLink()
                            }
                        })), r.a.createElement("div", {
                            className: "TransferPanel__list"
                        }, o.map((function (t) {
                                var a = T.findProfile(n, t.user_id);
                                return r.a.createElement("div", {
                                    className: "TransferPanel__row",
                                    key: t.user_id,
                                    onClick: function () {
                                        return e.openWindow(a)
                                    }
                                }, r.a.createElement("div", {
                                    className: "TransferPanel__row-avatar"
                                }, r.a.createElement("img", {
                                    src: a.photo_100 || a.photo_200 || a.photo_50,
                                    alt: ""
                                })), r.a.createElement("div", {
                                    className: "TransferPanel__row-data"
                                }, r.a.createElement("div", {
                                    className: "TransferPanel__row-data-title"
                                }, a.first_name, " ", a.last_name), t.balance > 0 && r.a.createElement("div", {
                                    className: "TransferPanel__row-data-value"
                                }, T.formatMainBalance(t.balance / 1e3, 3), " ", T.getEmojiPic("toilet", 36))))
                            }
                        )), 0 === o.length && r.a.createElement("div", {
                            className: "TransferPanel__list-placeholder"
                        }, "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b")))
                }
            }]),
                a
        }(r.a.Component)
            , yt = {
            setUserFriends: A,
            addCacheProfiles: j,
            setActiveWindow: C,
            setSnackbar: O,
            deleteSnackbar: S
        }
            , kt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    improvements: e.improvements
                }
            }
        ), yt)(gt)
            , Tt = (a(203),
            a(78))
            , Nt = a.n(Tt)
            , wt = a(79)
            , Lt = a.n(wt)
            , At = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).onTransferClick = function (e) {
                        e.peer_id && T.openLink("https://vk.com/id" + e.peer_id)
                    }
                    ,
                    n.getObjectImage = function (e, t) {
                        var a = n.props.items.items
                            , r = n.props.disinfectants.items
                            , i = "";
                        if ("balance" === e)
                            i = "toilet";
                        else if ("disinfectants" === e) {
                            var o = r.find((function (e) {
                                    return e.type_id === t
                                }
                            ));
                            o && (i = o.icon)
                        } else if ("items" === e) {
                            var c = a.find((function (e) {
                                    return e.type_id === t
                                }
                            ));
                            c && (i = c.icon)
                        }
                        return T.getEmojiPic(i, 100)
                    }
                    ,
                    n.getTransferImage = function (e, t) {
                        return "achievement" === e.type ? Lt.a : "purchase" === e.type || "merchant" === e.type ? Nt.a : "loss" === e.type ? T.getEmojiLink("virus", 160) : t.photo_100 || t.photo_200 || t.photo_50
                    }
                    ,
                    n.printRowDataValue = function (e) {
                        var t = "transfer" === e.type && !e.is_initiator || "steal" === e.type && e.is_initiator || "achievement" === e.type || "purchase" === e.type
                            ,
                            a = "transfer" === e.type && e.is_initiator || "steal" === e.type && !e.is_initiator || "loss" === e.type
                            , i = V()({
                                "HistoryPanel__row-data-value": !0,
                                "HistoryPanel__row-data-value--positive": t,
                                "HistoryPanel__row-data-value--negative": a
                            })
                            ,
                            o = "balance" === e.object_type ? T.formatNumber(e.amount / 1e3) : T.formatMainBalance(e.amount, 0);
                        return r.a.createElement("div", {
                            className: i
                        }, t && "+", " ", a && "-", " ", o, " ", n.getObjectImage(e.object_type, e.object_type_id))
                    }
                    ,
                    n.getTransfersPeers = function () {
                        var e = n.props.transfers.items
                            , t = [];
                        return e.forEach((function (e) {
                                e.peer_id && !t.includes(e.peer_id) && t.push(e.peer_id)
                            }
                        )),
                            t
                    }
                    ,
                    n.loadProfilesList = Object(m.a)(l.a.mark((function e() {
                            var t, a;
                            return l.a.wrap((function (e) {
                                    for (; ;)
                                        switch (e.prev = e.next) {
                                            case 0:
                                                if (!((t = n.getTransfersPeers()).length > 0)) {
                                                    e.next = 12;
                                                    break
                                                }
                                                return e.prev = 2,
                                                    e.next = 5,
                                                    T.getUsers(t);
                                            case 5:
                                                a = e.sent,
                                                    n.props.addCacheProfiles(a),
                                                    e.next = 12;
                                                break;
                                            case 9:
                                                e.prev = 9,
                                                    e.t0 = e.catch(2),
                                                    console.log("historyPanel", e.t0);
                                            case 12:
                                            case "end":
                                                return e.stop()
                                        }
                                }
                            ), e, null, [[2, 9]])
                        }
                    ))),
                    n.loadProfilesList().then((function () {
                        }
                    )),
                    n
            }

            return Object(p.a)(a, [{
                key: "componentDidUpdate",
                value: function (e, t, a) {
                    var n = this
                        , r = T.arrayColumns(this.props.app.profiles, "id")
                        , i = this.getTransfersPeers()
                        , o = [];
                    i.forEach((function (e) {
                            r.includes(e) || o.push(e)
                        }
                    )),
                    o.length > 0 && setTimeout(Object(m.a)(l.a.mark((function e() {
                            var t;
                            return l.a.wrap((function (e) {
                                    for (; ;)
                                        switch (e.prev = e.next) {
                                            case 0:
                                                return e.prev = 0,
                                                    e.next = 3,
                                                    T.getUsers(o);
                                            case 3:
                                                t = e.sent,
                                                    n.props.addCacheProfiles(t),
                                                    e.next = 10;
                                                break;
                                            case 7:
                                                e.prev = 7,
                                                    e.t0 = e.catch(0),
                                                    console.log("historyPanel update", e.t0);
                                            case 10:
                                            case "end":
                                                return e.stop()
                                        }
                                }
                            ), e, null, [[0, 7]])
                        }
                    ))), 1)
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app.profiles
                        , a = this.props.transfers.items;
                    return r.a.createElement("div", {
                        className: "HistoryPanel"
                    }, r.a.createElement(_t, null), r.a.createElement("div", {
                        className: "HistoryPanel__list"
                    }, a.map((function (a) {
                            var n = a.peer_id ? T.findProfile(t, a.peer_id) : {};
                            return a.peer_id && !n.id ? null : r.a.createElement("div", {
                                className: "HistoryPanel__row",
                                key: a.transfer_id,
                                onClick: function () {
                                    return e.onTransferClick(a)
                                }
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-avatar"
                            }, r.a.createElement("img", {
                                src: e.getTransferImage(a, n),
                                alt: ""
                            })), "transfer" === a.type && r.a.createElement("div", {
                                className: "HistoryPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-data-title"
                            }, a.is_initiator ? "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 ".concat(n.first_name_dat || "") : "\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043e\u0442 ".concat(n.first_name_gen || "")), e.printRowDataValue(a)), "steal" === a.type && r.a.createElement("div", {
                                className: "HistoryPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-data-title"
                            }, a.is_initiator ? "\u041a\u0440\u0430\u0436\u0430 \u0443 ".concat(n.first_name_gen) : "".concat(n.first_name, " \u0443\u043a\u0440\u0430\u043b \u0443 \u0432\u0430\u0441")), e.printRowDataValue(a)), "achievement" === a.type && r.a.createElement("div", {
                                className: "HistoryPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-data-title"
                            }, "\u0411\u043e\u043d\u0443\u0441 \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435"), e.printRowDataValue(a)), "purchase" === a.type && r.a.createElement("div", {
                                className: "HistoryPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-data-title"
                            }, "\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 Paper Scroll"), e.printRowDataValue(a)), "loss" === a.type && r.a.createElement("div", {
                                className: "HistoryPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "HistoryPanel__row-data-title"
                            }, "\u041f\u043e\u0442\u0435\u0440\u044f \u043e\u0442 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u044f"), e.printRowDataValue(a)), r.a.createElement("div", {
                                className: "HistoryPanel__row-date"
                            }, T.getLocalTime(a.create_date)))
                        }
                    )), 0 === a.length && r.a.createElement("div", {
                        className: "HistoryPanel__placeholder"
                    }, "\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432 \u043f\u0443\u0441\u0442")))
                }
            }]),
                a
        }(r.a.Component)
            , jt = {
            addCacheProfiles: j
        }
            , Pt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    items: e.items,
                    disinfectants: e.disinfectants,
                    transfers: e.transfers
                }
            }
        ), jt)(At)
            , Ot = (a(204),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).buyDisinfectant = function (e) {
                        K.sendEvent("disinfectants:buy", {
                            type_id: e.type_id
                        })
                    }
                        ,
                        e.buyItem = function (e) {
                            K.sendEvent("items:buy", {
                                type_id: e.type_id
                            })
                        }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.user.object
                            , a = this.props.items.items
                            , n = this.props.disinfectants.items;
                        return r.a.createElement("div", {
                            className: "ShopPanel"
                        }, r.a.createElement("div", {
                            className: "ShopPanel__list"
                        }, n.map((function (a) {
                                var n = T.formatNumber(a.cost / 1e3);
                                a.cost >= 1e9 && (n = a.cost / 1e3 / 1e6 + " \u043c\u043b\u043d");
                                var i = T.roundInt(a.life_time / 60 / 60)
                                    ,
                                    o = T.declOfNum(i, ["\u0447\u0430\u0441", "\u0447\u0430\u0441\u0430", "\u0447\u0430\u0441\u043e\u0432"]);
                                return r.a.createElement("div", {
                                    className: "ShopPanel__row",
                                    key: ["disinfectant", a.type_id].join("_")
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-menu"
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-menu-image"
                                }, T.getEmojiPic(a.icon, 100)), r.a.createElement("div", {
                                    className: "ShopPanel__row-menu-button"
                                }, r.a.createElement(Y, {
                                    stretched: !0,
                                    color: "primary",
                                    disabled: t.balance < a.cost,
                                    onClick: function () {
                                        return e.buyDisinfectant(a)
                                    }
                                }, n, " ", T.getEmojiPic("toilet", 36)))), r.a.createElement("div", {
                                    className: "ShopPanel__row-data"
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-data-title"
                                }, a.name), r.a.createElement("div", {
                                    className: "ShopPanel__row-data-count"
                                }, a.current_count, " \u0432 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0435"), r.a.createElement("div", {
                                    className: "ShopPanel__row-data-description"
                                }, "infection" === a.protection && "\u0421\u043d\u0438\u0436\u0430\u0435\u0442 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430 ".concat(a.chance_reduction, "%"), "steal" === a.protection && "\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u0442 \u043a\u0440\u0430\u0436 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438 \u043f\u0440\u0438 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435", r.a.createElement("br", null), "\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 ", i, " ", o)))
                            }
                        )), a.map((function (a) {
                                var n = T.formatNumber(a.cost / 1e3);
                                return r.a.createElement("div", {
                                    className: "ShopPanel__row",
                                    key: ["item", a.type_id].join("_")
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-menu"
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-menu-image"
                                }, T.getEmojiPic(a.icon, 100)), r.a.createElement("div", {
                                    className: "ShopPanel__row-menu-button"
                                }, r.a.createElement(Y, {
                                    stretched: !0,
                                    color: "primary",
                                    disabled: t.balance < a.cost,
                                    onClick: function () {
                                        return e.buyItem(a)
                                    }
                                }, n, " ", T.getEmojiPic("toilet", 36)))), r.a.createElement("div", {
                                    className: "ShopPanel__row-data"
                                }, r.a.createElement("div", {
                                    className: "ShopPanel__row-data-title"
                                }, a.name), r.a.createElement("div", {
                                    className: "ShopPanel__row-data-count"
                                }, a.current_count, " \u0432 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0435"), r.a.createElement("div", {
                                    className: "ShopPanel__row-data-description"
                                }, a.description)))
                            }
                        ))))
                    }
                }]),
                    a
            }(r.a.Component))
            , St = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    items: e.items,
                    disinfectants: e.disinfectants
                }
            }
        ), {})(Ot)
            , It = (a(205),
            a(80))
            , Ct = a.n(It)
            , Wt = function (e) {
            return {
                type: "SET_OPENED_ACHIEVEMENTS_CATEGORY",
                id: e
            }
        }
            , Mt = (a(206),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    return Object(d.a)(this, a),
                        t.apply(this, arguments)
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this.props.achievement;
                        return r.a.createElement("div", {
                            className: "AchievementStoryTemplate--wrapper"
                        }, r.a.createElement("div", {
                            className: "AchievementStoryTemplate",
                            id: "AchievementStoryTemplate"
                        }, r.a.createElement("div", {
                            className: "AchievementStoryTemplate__content"
                        }, r.a.createElement("div", {
                            className: "AchievementStoryTemplate__titles"
                        }, r.a.createElement("div", {
                            className: "AchievementStoryTemplate__title"
                        }, e.name.toUpperCase()), r.a.createElement("div", {
                            className: "AchievementStoryTemplate__title"
                        }, e.name.toUpperCase()), r.a.createElement("div", {
                            className: "AchievementStoryTemplate__title"
                        }, e.name.toUpperCase())), r.a.createElement("div", {
                            className: "AchievementStoryTemplate__description"
                        }, e.description.toUpperCase()), e.owners_proportion < 45 && r.a.createElement("div", {
                            className: "AchievementStoryTemplate__proportion"
                        }, "\u0420\u0435\u0434\u043a\u0430\u044f \u0430\u0447\u0438\u0432\u043a\u0430:", r.a.createElement("br", null), "\u0435\u0441\u0442\u044c \u0443 \u043c\u0435\u043d\u044f \u0438 ", e.owners_proportion, "% \u0438\u0433\u0440\u043e\u043a\u043e\u0432"))))
                    }
                }]),
                    a
            }(r.a.Component))
            , Dt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    achievements: e.achievements
                }
            }
        ), {})(Mt)
            , Bt = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).onAchievementClick = function (e) {
                        if (null !== n.state.renderingAchievement)
                            return 0;
                        if (n.state.tooltipClosed || n.setState({
                            tooltipClosed: !0
                        }),
                            !e.was_received)
                            return n.props.setSnackbar("error", "\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f"),
                                0;
                        n.setState({
                            renderingAchievement: e
                        });
                        var t = h.a.getStartParams();
                        setTimeout((function () {
                                Ct()(document.querySelectorAll("#AchievementStoryTemplate")[0], {
                                    imageTimeout: 1500,
                                    useCORS: !0
                                }).then((function (e) {
                                        var a = {
                                            background_type: "image",
                                            blob: e.toDataURL(),
                                            locked: !0,
                                            attachment: {
                                                text: "open",
                                                type: "url",
                                                url: "https://vk.com/app" + t.appId + "#ref=" + t.userId
                                            },
                                            stickers: [{
                                                sticker_type: "renderable",
                                                sticker: {
                                                    content_type: "image",
                                                    can_delete: !0,
                                                    url: T.getImageLink("story_sticker"),
                                                    transform: {
                                                        gravity: "center_bottom",
                                                        translation_y: -.05,
                                                        relation_width: .35
                                                    },
                                                    clickable_zones: [{
                                                        action_type: "app",
                                                        action: {
                                                            app_id: t.appId,
                                                            app_context: "open"
                                                        }
                                                    }]
                                                }
                                            }]
                                        };
                                        h.a.send("VKWebAppShowStoryBox", a).then((function () {
                                                n.setState({
                                                    renderingAchievement: null
                                                })
                                            }
                                        )).catch((function (e) {
                                                n.setState({
                                                    renderingAchievement: null
                                                }),
                                                4 !== e.error_data.error_code && (console.log(e),
                                                    n.props.addToast("\u041e\u0448\u0438\u0431\u043a\u0430", "\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u0439 :(", "\u041e\u043a\u0435\u0439", "error"))
                                            }
                                        ))
                                    }
                                )).catch((function (e) {
                                        n.setState({
                                            renderingAchievement: null
                                        }),
                                            console.log(e),
                                            n.props.addToast("\u041e\u0448\u0438\u0431\u043a\u0430", "\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e :(", "\u041e\u043a\u0435\u0439", "error")
                                    }
                                ))
                            }
                        ), 500)
                    }
                    ,
                    n.onTooltipClose = function () {
                        n.setState({
                            tooltipClosed: !0
                        }),
                            K.sendEvent("event:trigger", {
                                type: "achievement_tooltip_hide"
                            })
                    }
                    ,
                    K.sendEvent("achievements:category", {
                        category_id: e.achievements.openedCategoryId
                    }),
                    n.state = {
                        tooltipClosed: !0,
                        renderingAchievement: null
                    },
                    n
            }

            return Object(p.a)(a, [{
                key: "componentDidMount",
                value: function () {
                    !1 === this.props.user.object.achievement_tooltip_used && this.setState({
                        tooltipClosed: !1
                    })
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.achievements
                        , a = t.openedCategoryId
                        , n = t.openedCategoryAchievements
                        , i = t.categories.find((function (e) {
                            return e.category_id === a
                        }
                    ))
                        , o = i.undisclosed_achievements_count
                        , c = i.received_achievements_count
                        , s = i.achievements_count;
                    return r.a.createElement("div", {
                        className: "AchievementPanel"
                    }, r.a.createElement("div", {
                        className: "AchievementPanel__counter"
                    }, c, " \u0438\u0437 ", s, " \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439"), r.a.createElement("div", {
                        className: "AchievementPanel__list"
                    }, n.map((function (t, a) {
                            var n = V()({
                                AchievementPanel__row: !0,
                                "AchievementPanel__row--active": t.was_received
                            })
                                , i = r.a.createElement("div", {
                                className: n,
                                key: t.type_id,
                                onClick: function () {
                                    return e.onAchievementClick(t)
                                }
                            }, r.a.createElement("div", {
                                className: "AchievementPanel__row-bg",
                                style: {
                                    backgroundImage: "url(".concat(T.getAchievementEmojiLink(t.icon, 160), ")")
                                }
                            }), r.a.createElement("div", {
                                className: "AchievementPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "AchievementPanel__row-title"
                            }, t.name), r.a.createElement("div", {
                                className: "AchievementPanel__row-description"
                            }, t.description), !0 === t.was_received && r.a.createElement("div", {
                                className: "AchievementPanel__row-percent"
                            }, "\u042d\u0442\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 \u0435\u0441\u0442\u044c \u0442\u0430\u043a\u0436\u0435 \u0443 ", t.owners_proportion, "% \u0438\u0433\u0440\u043e\u043a\u043e\u0432")));
                            return 0 !== a || e.state.tooltipClosed ? null !== e.state.renderingAchievement && e.state.renderingAchievement.type_id === t.type_id ? r.a.createElement("div", {
                                className: n,
                                key: t.type_id
                            }, r.a.createElement("div", {
                                className: "AchievementPanel__row-data"
                            }, r.a.createElement("div", {
                                className: "AchievementPanel__row-description"
                            }, "\u041f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0432\u0430\u0448\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u044e..."))) : i : r.a.createElement(q.m, {
                                offsetX: 10,
                                offsetY: 10,
                                key: t.type_id,
                                onClose: e.onTooltipClose,
                                isShown: !e.state.tooltipClosed,
                                text: "\u041a\u043b\u0438\u043a\u043d\u0438 \u043f\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044e, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e"
                            }, i)
                        }
                    ))), o > 0 && r.a.createElement("div", {
                        className: "AchievementPanel__description"
                    }, "\u0418 \u0435\u0449\u0435 ", o, " ", T.declOfNum(o, ["\u0441\u043a\u0440\u044b\u0442\u043e\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435", "\u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f", "\u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439"])), null !== this.state.renderingAchievement && r.a.createElement(Dt, {
                        achievement: this.state.renderingAchievement
                    }))
                }
            }]),
                a
        }(r.a.Component)
            , Rt = {
            addToast: P,
            setSnackbar: O,
            setActivePanel: w,
            setOpenedAchievementsCategory: Wt
        }
            , xt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    achievements: e.achievements
                }
            }
        ), Rt)(Bt)
            , Ut = (a(207),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).openCategory = function (t) {
                        e.props.setOpenedAchievementsCategory(t),
                            e.props.setActivePanel("information", "achievement")
                    }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.achievements.categories
                            , a = 0
                            , n = 0;
                        return t.forEach((function (e) {
                                a += e.received_achievements_count,
                                    n += e.achievements_count
                            }
                        )),
                            r.a.createElement("div", {
                                className: "AchievementsPanel"
                            }, r.a.createElement("div", {
                                className: "AchievementsPanel__counter"
                            }, a, " \u0438\u0437 ", n, " \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439"), r.a.createElement("div", {
                                className: "AchievementsPanel__list"
                            }, t.map((function (t) {
                                    var a = V()({
                                        AchievementsPanel__row: !0,
                                        "AchievementsPanel__row--active": t.received_achievements_count > 0
                                    });
                                    return r.a.createElement("div", {
                                        className: a,
                                        key: t.category_id,
                                        onClick: function () {
                                            return e.openCategory(t.category_id)
                                        }
                                    }, r.a.createElement("div", {
                                        className: "AchievementsPanel__row-bg",
                                        style: {
                                            backgroundImage: "url(".concat(T.getEmojiLink(t.icon, 160), ")")
                                        }
                                    }), r.a.createElement("div", {
                                        className: "AchievementsPanel__row-title"
                                    }, t.name), r.a.createElement("div", {
                                        className: "AchievementsPanel__row-counter"
                                    }, t.received_achievements_count, "/", t.achievements_count))
                                }
                            ))))
                    }
                }]),
                    a
            }(r.a.Component))
            , Ft = {
            setActivePanel: w,
            setOpenedAchievementsCategory: Wt
        }
            , Vt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    achievements: e.achievements
                }
            }
        ), Ft)(Ut)
            , Ht = (a(208),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).openWindow = function (t) {
                        e.props.setActiveWindow("bonus", {
                            type_id: t
                        })
                    }
                        ,
                        e.buyBonus = function (e) {
                            K.sendEvent("bonuses:buy", {
                                type_id: e
                            })
                        }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.user.object
                            , a = this.props.bonuses.items;
                        return r.a.createElement("div", {
                            className: "BonusesModal"
                        }, a.map((function (a) {
                                var n = T.formatNumber(a.cost / 1e3)
                                    , i = T.formatNumber(a.speed / 1e3)
                                    , o = 0 === a.current_count && a.earned_filter <= t.earned_balance;
                                return r.a.createElement("div", {
                                    className: "BonusesModal__item",
                                    key: a.type_id
                                }, r.a.createElement("div", {
                                    className: "BonusesModal__item-avatar",
                                    onClick: function () {
                                        return e.openWindow(a.type_id)
                                    }
                                }, T.getEmojiPic(a.icon, 160)), r.a.createElement("div", {
                                    className: "BonusesModal__item-content"
                                }, r.a.createElement("div", {
                                    className: "BonusesModal__item-content-row"
                                }, r.a.createElement("div", {
                                    className: "BonusesModal__item-content-title"
                                }, a.name), r.a.createElement("div", {
                                    className: "BonusesModal__item-content-speed"
                                }, "+", i, "/\u0441\u043a\u0440\u043e\u043b\u043b")), r.a.createElement("div", {
                                    className: "BonusesModal__item-content-row"
                                }, o && r.a.createElement(Y, {
                                    disabled: t.balance < a.cost,
                                    onClick: function () {
                                        return e.buyBonus(a.type_id)
                                    }
                                }, n, " ", T.getEmojiPic("toilet", 36)), a.current_count > 0 && r.a.createElement("div", {
                                    className: "BonusesModal__item-content-row-text"
                                }, "\u0423\u0436\u0435 \u043a\u0443\u043f\u043b\u0435\u043d"), a.earned_filter > t.earned_balance && r.a.createElement("div", {
                                    className: "BonusesModal__item-content-row-text"
                                }, "\u0411\u043e\u043d\u0443\u0441 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043a\u043e\u0433\u0434\u0430 \u0442\u044b \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0448\u044c ", T.formatNumber(a.earned_filter / 1e3), " ", T.getEmojiPic("toilet", 100), " \u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f \u0438\u0433\u0440\u044b"))))
                            }
                        )))
                    }
                }]),
                    a
            }(r.a.Component))
            , Kt = {
            setActiveWindow: C
        }
            , Gt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    bonuses: e.bonuses
                }
            }
        ), Kt)(Ht)
            , Yt = (a(209),
            function (e) {
                Object(_.a)(a, e);
                var t = Object(v.a)(a);

                function a() {
                    var e;
                    Object(d.a)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                        r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).openWindow = function (t) {
                        e.props.setActiveWindow("improvement", {
                            type_id: t
                        })
                    }
                        ,
                        e.buyImprovement = function (e) {
                            K.sendEvent("improvements:buy", {
                                type_id: e
                            })
                        }
                        ,
                        e
                }

                return Object(p.a)(a, [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.user.object
                            , a = this.props.improvements.items;
                        return r.a.createElement("div", {
                            className: "ImprovementsModal"
                        }, a.map((function (a) {
                                var n = T.formatNumber(a.current_cost / 1e3)
                                    , i = T.formatNumber(a.speed / 1e3);
                                return r.a.createElement("div", {
                                    className: "ImprovementsModal__item",
                                    key: a.type_id
                                }, r.a.createElement("div", {
                                    className: "ImprovementsModal__item-avatar",
                                    onClick: function () {
                                        return e.openWindow(a.type_id)
                                    }
                                }, T.getEmojiPic(a.icon, 160)), r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content"
                                }, r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content-row"
                                }, r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content-title"
                                }, a.name), r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content-speed"
                                }, "+", i, "/\u0441\u0435\u043a")), r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content-row"
                                }, r.a.createElement(Y, {
                                    disabled: t.balance < a.current_cost,
                                    onClick: function () {
                                        return e.buyImprovement(a.type_id)
                                    }
                                }, n, " ", T.getEmojiPic("toilet", 36)), r.a.createElement("div", {
                                    className: "ImprovementsModal__item-content-count"
                                }, a.current_count > 0 && "x".concat(a.current_count)))))
                            }
                        )))
                    }
                }]),
                    a
            }(r.a.Component))
            , qt = {
            setActiveWindow: C
        }
            , Jt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user,
                    improvements: e.improvements
                }
            }
        ), qt)(Yt)
            , zt = (a(210),
            a(211),
            a(212),
            a(213),
            {
                initWebApp: function () {
                    return {
                        type: "INIT_WEB_APP"
                    }
                },
                initVkSdk: function () {
                    return {
                        type: "INIT_VK_SDK"
                    }
                },
                setSocketFetchingState: function (e) {
                    return {
                        type: "SET_SOCKET_STATE",
                        state: e
                    }
                },
                setActiveTab: N,
                setActivePanel: w,
                setActiveWindow: C,
                hideActiveWindow: M,
                setWindowParam: W,
                setActiveModal: I,
                hideActiveModal: function () {
                    return {
                        type: "HIDE_ACTIVE_MODAL"
                    }
                },
                addToast: P,
                deleteToast: function (e) {
                    return {
                        type: "DELETE_TOAST",
                        index: e
                    }
                },
                addCacheProfiles: j,
                setUsersBalances: function (e) {
                    return {
                        type: "SET_USERS_BALANCES",
                        data: e
                    }
                },
                setSnackbar: O,
                deleteSnackbar: S,
                handleTransferWindowEvent: function (e, t) {
                    return {
                        type: "HANDLE_TRANSFER_WINDOW_EVENT",
                        event: e,
                        params: t
                    }
                },
                handleTabSwipeBack: L,
                handleAppError: function (e, t, a) {
                    return {
                        type: "HANDLE_APP_ERROR",
                        code: e,
                        message: t,
                        description: a
                    }
                },
                setConfigInitialData: function (e) {
                    return {
                        type: "SET_CONFIG_INITIAL_DATA",
                        data: e
                    }
                },
                setParamsInitialData: function (e) {
                    return {
                        type: "SET_PARAMS_INITIAL_DATA",
                        data: e
                    }
                },
                setUserInitialData: function (e) {
                    return {
                        type: "SET_USER_INITIAL_DATA",
                        object: e
                    }
                },
                updateUserProperty: function (e, t, a) {
                    return {
                        type: "UPDATE_USER_PROPERTY",
                        property: e,
                        action: t,
                        value: a
                    }
                },
                setOnboardInitialData: function (e) {
                    return {
                        type: "SET_ONBOARD_INITIAL_DATA",
                        object: e
                    }
                },
                tickImprovementsUpdate: function () {
                    return {
                        type: "TICK_IMPROVEMENTS_UPDATE"
                    }
                },
                setGroupInitialData: function (e) {
                    return {
                        type: "SET_GROUP_INITIAL_DATA",
                        object: e
                    }
                },
                setItemsInitialData: function (e) {
                    return {
                        type: "SET_ITEMS_INITIAL_DATA",
                        data: e
                    }
                },
                setBonusesInitialData: function (e) {
                    return {
                        type: "SET_BONUSES_INITIAL_DATA",
                        data: e
                    }
                },
                setRatingsInitialData: function (e) {
                    return {
                        type: "SET_RATINGS_INITIAL_DATA",
                        data: e
                    }
                },
                setImprovementsInitialData: function (e) {
                    return {
                        type: "SET_IMPROVEMENTS_INITIAL_DATA",
                        data: e
                    }
                },
                setDisinfectantsInitialData: function (e) {
                    return {
                        type: "SET_DISINFECTANTS_INITIAL_DATA",
                        data: e
                    }
                },
                addNewTransfer: function (e) {
                    return {
                        type: "ADD_NEW_TRANSFER",
                        data: e
                    }
                },
                setTransfersInitialData: function (e) {
                    return {
                        type: "SET_TRANSFERS_INITIAL_DATA",
                        data: e
                    }
                },
                setAchievementsInitialData: function (e) {
                    return {
                        type: "SET_ACHIEVEMENTS_INITIAL_DATA",
                        data: e
                    }
                },
                setAchievementCategoryData: function (e, t) {
                    return {
                        type: "SET_ACHIEVEMENT_CATEGORY_DATA",
                        category_id: e,
                        data: t
                    }
                },
                setOpenedAchievementsCategory: Wt
            })
            , Xt = function (e) {
            Object(_.a)(a, e);
            var t = Object(v.a)(a);

            function a(e) {
                var n;
                return Object(d.a)(this, a),
                    (n = t.call(this, e)).updateLastActivityTime = function () {
                        T.randEvent(40) && (n.lastActivityTime = (new Date).getTime())
                    }
                    ,
                    n.initWebSocket = function () {
                        Object.assign(WebSocket.prototype, {
                            forcedClose: !1,
                            tickInterval: null,
                            uuid: null,
                            log: function (e) {
                                console.log(this.uuid, e)
                            },
                            sendEvent: function (e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                                    , a = [e];
                                Object.keys(t).length > 0 && a.push(t),
                                    this.send(JSON.stringify(a))
                            },
                            sendBuffer: function () {
                                var e = Array.from(arguments[0])
                                    , t = new Int32Array(e);
                                this.send(t)
                            }
                        });
                        var e = g.a.parse(window.location.search.substr(1));
                        n.socket = new WebSocket("wss://paper-scroll.ru/socket?" + g.a.encode(Object(u.a)({}, e, {
                            hashParams: JSON.stringify(n.hashParams)
                        }))),
                            n.socket.uuid = T.generateUuid().substr(0, 7),
                            n.socket.onopen = function () {
                                n.socket.log("ws connected"),
                                    n.props.setSocketFetchingState(!1),
                                    n.socket.tickInterval = setInterval((function () {
                                            n.props.tickImprovementsUpdate()
                                        }
                                    ), 1e3)
                            }
                            ,
                            n.socket.onclose = function () {
                                n.socket.log("ws closed"),
                                    n.props.setSocketFetchingState(!0),
                                    clearInterval(n.socket.tickInterval)
                            }
                            ,
                            n.socket.onerror = function () {
                                n.socket.log("ws error"),
                                    n.props.setSocketFetchingState(!0)
                            }
                            ,
                            n.socket.onmessage = function (e) {
                                var t = JSON.parse(e.data)
                                    , a = t[0] || ""
                                    , r = t[1] || {};
                                "ping" === a ? n.socket.sendEvent("pong") : "reconnect" === a || ("error" === a ? n.props.handleAppError(r.code, r.message, r.description) : "notify" === a ? n.props.setSnackbar(r.category, r.message) : "toast" === a ? n.props.addToast(r.title, T.escapeNewLineToBeak(r.message), r.button, r.category || "primary") : n.onSocketMessage(a, r))
                            }
                            ,
                            window.socket = n.socket
                    }
                    ,
                    n.onSwipeBack = function () {
                        window.history.back()
                    }
                    ,
                    n.onSwipeBackStart = function () {
                        setTimeout((function () {
                                if (!document.querySelector(".View--swiping-back"))
                                    return 1;
                                window.history.back()
                            }
                        ), 600)
                    }
                    ,
                    n.handleHashParams(),
                    n.initWebSocket(),
                    h.a.init().then((function () {
                        }
                    )),
                    h.a.getUserInfo().then((function (e) {
                            n.props.initVkSdk()
                        }
                    )),
                    h.a.setViewSettings("dark", "#ffffff").catch((function () {
                        }
                    )),
                    h.a.subscribe("VKWebAppViewRestore", (function () {
                            n.socket.forcedClose = !0,
                                n.socket.close(),
                                h.a.setViewSettings("dark", "#ffffff").catch((function () {
                                    }
                                ))
                        }
                    )),
                    window.deleteSnackbar = n.props.deleteSnackbar,
                    h.a.addLogCallback((function (e) {
                            console.log("sdk", e)
                        }
                    )),
                    setTimeout((function () {
                            var e = n.props.user.object;
                            e.is_onboard_completed && e.balance >= 13e3 && h.a.send("VKWebAppJoinGroup", {
                                group_id: 194441652
                            }).then((function () {
                                }
                            )).catch((function () {
                                }
                            ))
                        }
                    ), 700),
                    setTimeout(Object(m.a)(l.a.mark((function e() {
                            var t;
                            return l.a.wrap((function (e) {
                                    for (; ;)
                                        switch (e.prev = e.next) {
                                            case 0:
                                                t = n.props.app;
                                            case 1:
                                                return n.socket.readyState !== WebSocket.CLOSED || t.error.catched || (n.props.setSocketFetchingState(!0),
                                                    n.initWebSocket()),
                                                    e.next = 5,
                                                    T.sleep(1e3 + T.rand(200, 2500));
                                            case 5:
                                                e.next = 1;
                                                break;
                                            case 7:
                                            case "end":
                                                return e.stop()
                                        }
                                }
                            ), e)
                        }
                    ))), 1),
                    n
            }

            return Object(p.a)(a, [{
                key: "handleHashParams",
                value: function () {
                    if (this.hashParams = Object(u.a)({}, g.a.parse(window.location.hash.substr(2))),
                    Object.keys(this.hashParams).length > 0 && (this.props.setParamsInitialData(this.hashParams),
                        window.location.hash = ""),
                        this.hashParams.hasOwnProperty("debug")) {
                        this.hashParams.debug = !0;
                        var e = document.createElement("script");
                        e.src = "https://cdn.jsdelivr.net/npm/eruda@2.2.2/eruda.min.js",
                            document.body.appendChild(e),
                            e.onload = function () {
                                var e = document.createElement("script");
                                e.innerHTML = "eruda.init();",
                                    document.body.appendChild(e)
                            }
                    }
                }
            }, {
                key: "componentDidMount",
                value: function () {
                    var e = this;
                    window.addEventListener("popstate", (function (t) {
                            var a = e.props.app;
                            if (a.activeWindow)
                                e.props.hideActiveWindow();
                            else if (a.activeModal)
                                e.props.hideActiveModal();
                            else if (a.toasts.length > 0)
                                e.props.deleteToast(0);
                            else {
                                var n = a.openedTab + "Tab";
                                Object(c.a)(a[n].history).length >= 2 && e.props.handleTabSwipeBack()
                            }
                        }
                    )),
                        this.updateLastActivityTime(),
                        this.activityChecker = setInterval((function () {
                                ((new Date).getTime() - e.lastActivityTime) / 1e3 > 2700 && (e.props.handleAppError(0, "Disconnect", "\u0412\u044b \u0431\u044b\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0438\u0437-\u0437\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"),
                                    e.socket.close(),
                                    clearInterval(e.activityChecker))
                            }
                        ), 5e3),
                        document.body.addEventListener("mousemove", this.updateLastActivityTime),
                        document.body.addEventListener("touchmove", this.updateLastActivityTime),
                        document.body.addEventListener("keydown", this.updateLastActivityTime),
                        document.body.addEventListener("scroll", this.updateLastActivityTime)
                }
            }, {
                key: "componentWillUnmount",
                value: function () {
                    clearInterval(this.activityChecker),
                        document.body.removeEventListener("mousemove", this.updateLastActivityTime),
                        document.body.addEventListener("touchmove", this.updateLastActivityTime),
                        document.body.removeEventListener("keydown", this.updateLastActivityTime),
                        document.body.removeEventListener("scroll", this.updateLastActivityTime)
                }
            }, {
                key: "componentDidCatch",
                value: function (e, t) {
                    console.error("ComponentError", e, t)
                }
            }, {
                key: "onSocketMessage",
                value: function (e, t) {
                    var a = this
                        , n = this.props.app;
                    if ("init" === e) {
                        if (this.props.initWebApp(),
                        t.user.is_onboard_completed || this.props.setActiveTab("onboard"),
                            this.props.setUserInitialData(t.user),
                            this.props.setGroupInitialData(t.group),
                            this.props.setConfigInitialData(t.config),
                            this.props.setBonusesInitialData(t.bonuses),
                            this.props.setImprovementsInitialData(t.improvements),
                        t.items && this.props.setItemsInitialData(t.items),
                        t.disinfectants && this.props.setDisinfectantsInitialData(t.disinfectants),
                        this.hashParams.hasOwnProperty("t") && !0 !== this.hashParams.transferHandled) {
                            if (this.hashParams.transferHandled = !0,
                                !t.user.is_onboard_completed)
                                return 0;
                            var r = [this.hashParams.t.split("_")[0] || 0];
                            T.getUsers(r).then((function (e) {
                                    if (!e[0])
                                        return 0;
                                    a.props.addCacheProfiles(e),
                                        a.props.setActivePanel("main", "transfer"),
                                        setTimeout((function () {
                                                a.props.setActiveWindow("transfer", {
                                                    user: e[0]
                                                })
                                            }
                                        ), 200)
                                }
                            )).catch((function () {
                                }
                            ))
                        }
                    } else
                        "init:extended" === e ? (this.props.setTransfersInitialData(t.transfers),
                            this.props.setAchievementsInitialData(t.achievements),
                        t.items && this.props.setItemsInitialData(t.items),
                        t.disinfectants && this.props.setDisinfectantsInitialData(t.disinfectants)) : "onboard" === e ? this.props.setOnboardInitialData(t) : "user:update" === e ? this.props.updateUserProperty(t[0], t[1], t[2]) : "users:balances" === e ? this.props.setUsersBalances(t) : "ratings:update" === e ? this.props.setRatingsInitialData(t.ratings) : "profile:info" === e ? t.user.user_id === n.profileWindow.params.user_id && this.props.setWindowParam("profile", "user", t.user) : "transfer:info" === e ? this.props.handleTransferWindowEvent("transfer:info", t) : "transfer:new" === e ? (this.props.addNewTransfer(t.transfer),
                        t.transfer.peer_id && T.getUsers([t.transfer.peer_id]).then((function (e) {
                                a.props.addCacheProfiles(e)
                            }
                        )).catch((function () {
                            }
                        ))) : "transfer:error" === e ? this.props.handleTransferWindowEvent("transfer:error", t) : "transfer:success" === e ? (this.props.handleTransferWindowEvent("transfer:success", t),
                            this.props.addNewTransfer(t.transfer)) : "user:sync" === e ? this.props.setUserInitialData(t) : "items:sync" === e ? this.props.setItemsInitialData(t) : "bonuses:sync" === e ? this.props.setBonusesInitialData(t) : "improvements:sync" === e ? this.props.setImprovementsInitialData(t) : "disinfectants:sync" === e ? this.props.setDisinfectantsInitialData(t) : "achievements:sync" === e ? this.props.setAchievementsInitialData(t) : "achievements:new" === e ? this.props.setSnackbar("special", "\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043d\u043e\u0432\u043e\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435!", "\u041e\u0442\u043a\u0440\u044b\u0442\u044c", (function () {
                                a.props.setActiveTab("information"),
                                    a.props.setOpenedAchievementsCategory(t.category_id),
                                    a.props.setActivePanel("information", "achievement")
                            }
                        )) : "achievements:category" === e && this.props.setAchievementCategoryData(t.category_id, t.achievements)
                }
            }, {
                key: "render",
                value: function () {
                    var e = this
                        , t = this.props.app;
                    if (t.fetching || t.sdkFetching)
                        return r.a.createElement(Qe, null);
                    if (t.error.catched)
                        return r.a.createElement(lt, null);
                    var a = function (e, t, a) {
                        return r.a.createElement(q.f, {
                            id: e,
                            header: r.a.createElement(q.g, {
                                children: t,
                                right: r.a.createElement(q.j, {
                                    onClick: function () {
                                        return window.history.back()
                                    }
                                }, r.a.createElement("img", {
                                    src: He.a,
                                    alt: ""
                                }))
                            })
                        }, a)
                    }
                        , n = function (e, n, i) {
                        return r.a.createElement(q.i, {
                            id: e
                        }, null !== n && r.a.createElement(U, null, n), i, t.activeSnackbar, r.a.createElement(q.h, {
                            activeModal: t.activeModal,
                            onClose: function () {
                                return window.history.back()
                            }
                        }, a("improvements", "\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f", r.a.createElement(Jt, null)), a("bonuses", "\u0411\u043e\u043d\u0443\u0441\u044b", r.a.createElement(Gt, null))))
                    };
                    return r.a.createElement(q.b, {
                        isWebView: !0
                    }, r.a.createElement(ct, null, r.a.createElement(q.c, {
                        activeStory: t.openedTab,
                        tabbar: r.a.createElement(dt, null)
                    }, r.a.createElement(q.o, {
                        id: "onboard",
                        activePanel: "onboard"
                    }, r.a.createElement(q.i, {
                        id: "onboard"
                    }, r.a.createElement(Fe, null))), r.a.createElement(q.o, {
                        id: "main",
                        history: t.mainTab.history,
                        activePanel: t.mainTab.activePanel,
                        onSwipeBack: function () {
                            return e.onSwipeBack()
                        },
                        onSwipeBackStart: function () {
                            return e.onSwipeBackStart()
                        }
                    }, n("main", null, r.a.createElement(ce, null)), n("rating", "\u0420\u0435\u0439\u0442\u0438\u043d\u0433", r.a.createElement(bt, null)), n("transfer", "\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438", r.a.createElement(kt, null)), n("history", "\u0418\u0441\u0442\u043e\u0440\u0438\u044f", r.a.createElement(Pt, null))), r.a.createElement(q.o, {
                        id: "information",
                        history: t.informationTab.history,
                        activePanel: t.informationTab.activePanel,
                        onSwipeBack: function () {
                            return e.onSwipeBack()
                        },
                        onSwipeBackStart: function () {
                            return e.onSwipeBackStart()
                        }
                    }, n("main", null, r.a.createElement(Ie, null)), n("shop", "\u041c\u0430\u0433\u0430\u0437\u0438\u043d", r.a.createElement(St, null)), n("achievements", "\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f", r.a.createElement(Vt, null)), n("achievement", "\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f", r.a.createElement(xt, null))), r.a.createElement(q.o, {
                        id: "profile",
                        history: t.profileTab.history,
                        activePanel: t.profileTab.activePanel,
                        onSwipeBack: function () {
                            return e.onSwipeBack()
                        },
                        onSwipeBackStart: function () {
                            return e.onSwipeBackStart()
                        }
                    }, n("main", null, r.a.createElement(ve, null))))))
                }
            }]),
                a
        }(r.a.Component)
            , Qt = Object(f.c)((function (e) {
                return {
                    app: e.app,
                    user: e.user
                }
            }
        ), zt)(Xt)
            , Zt = a(30)
            , $t = a(86)
            , ea = a(81)
            , ta = a.n(ea)
            , aa = a(82)
            , na = a.n(aa)
            , ra = a(83)
            , ia = a.n(ra)
            , oa = {
            fetching: !0,
            sdkFetching: !0,
            socketFetching: !0,
            toasts: [],
            config: {
                merchant_id: 0,
                merchant_exchange_payload: 0
            },
            params: {},
            balances: {},
            friends: [],
            profiles: [],
            error: {
                catched: !1,
                code: 0,
                message: "",
                description: ""
            },
            openedTab: "main",
            activeSnackbar: null,
            activeModal: null,
            activeWindow: null,
            mainTab: {
                activePanel: "main",
                history: ["main"]
            },
            informationTab: {
                activePanel: "main",
                history: ["main"]
            },
            profileTab: {
                activePanel: "main",
                history: ["main"]
            },
            improvementWindow: {
                params: {}
            },
            bonusWindow: {
                params: {}
            },
            shareWindow: {
                params: {}
            },
            transferWindow: {
                fetching: !1,
                is_finished: !1,
                is_success: !0,
                show_warning: !1,
                result: {},
                params: {}
            },
            profileWindow: {
                params: {},
                user: {}
            }
        }
            , ca = function () {
            window.history.pushState(null, null, window.location.href)
        };

        function sa() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : oa
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if ("INIT_WEB_APP" === t.type)
                return e.fetching = !1,
                    Object(u.a)({}, e);
            if ("INIT_VK_SDK" === t.type)
                return e.sdkFetching = !1,
                    Object(u.a)({}, e);
            if ("SET_SOCKET_STATE" === t.type)
                return e.socketFetching = t.state,
                    Object(u.a)({}, e);
            if ("SET_ACTIVE_TAB" === t.type) {
                if (t.tab === e.openedTab) {
                    var a = e.openedTab + "Tab"
                        , n = Object(c.a)(e[a].history);
                    if (n.length >= 2) {
                        n.pop();
                        var i = n[n.length - 1];
                        "main" === i && h.a.send("VKWebAppDisableSwipeBack").then((function () {
                            }
                        )),
                            e[a].history = n,
                            e[a].activePanel = i
                    }
                } else
                    null !== e.activeSnackbar && (e.activeSnackbar = null),
                        e.openedTab = t.tab;
                return Object(u.a)({}, e)
            }
            if ("SET_ACTIVE_PANEL" === t.type) {
                var o = t.tab + "Tab"
                    , s = Object(c.a)(e[o].history);
                return s.push(t.panel),
                "main" === e[o].activePanel && h.a.send("VKWebAppEnableSwipeBack").then((function () {
                    }
                )),
                null !== e.activeSnackbar && (e.activeSnackbar = null),
                    e[o].history = s,
                    e[o].activePanel = t.panel,
                    ca(),
                    Object(u.a)({}, e)
            }
            if ("CLEAR_TAB_HISTORY" === t.type) {
                var l = t.tab + "Tab";
                return e[l].history = ["main"],
                    Object(u.a)({}, e)
            }
            if ("HANDLE_TAB_SWIPE_BACK" === t.type) {
                var m = e.openedTab + "Tab"
                    , d = Object(c.a)(e[m].history);
                if (d.length >= 2) {
                    d.pop();
                    var p = d[d.length - 1];
                    return "main" === p && h.a.send("VKWebAppDisableSwipeBack").then((function () {
                        }
                    )),
                        e[m].history = d,
                        e[m].activePanel = p,
                        Object(u.a)({}, e)
                }
            } else {
                if ("HANDLE_APP_ERROR" === t.type)
                    return e.fetching = !1,
                        e.error.catched = !0,
                        e.error.code = t.code,
                        e.error.message = t.message,
                        e.error.description = t.description,
                        Object(u.a)({}, e);
                if ("SET_CONFIG_INITIAL_DATA" === t.type)
                    return e.config = t.data,
                        Object(u.a)({}, e);
                if ("SET_PARAMS_INITIAL_DATA" === t.type)
                    return e.params = t.data,
                        Object(u.a)({}, e);
                if ("SET_USER_FRIENDS" === t.type)
                    return e.friends = t.data,
                        Object(u.a)({}, e);
                if ("ADD_CACHE_PROFILES" === t.type)
                    return t.data.forEach((function (t) {
                            e.profiles.find((function (e) {
                                    return t.id === e.id
                                }
                            )) || e.profiles.push(t)
                        }
                    )),
                        Object(u.a)({}, e);
                if ("SET_USERS_BALANCES" === t.type) {
                    for (var _ in t.data)
                        t.data.hasOwnProperty(_) && (e.balances[_.toString()] = t.data[_]);
                    return Object(u.a)({}, e)
                }
                if ("ADD_TOAST" === t.type)
                    return e.toasts.push({
                        id: T.generateUuid(),
                        title: t.title,
                        message: t.message,
                        button: t.button,
                        category: t.category,
                        buttonCallback: t.buttonCallback
                    }),
                        ca(),
                        Object(u.a)({}, e);
                if ("DELETE_TOAST" === t.type)
                    return e.toasts.splice(t.index, 1),
                        Object(u.a)({}, e);
                if ("SET_SNACKBAR" === t.type) {
                    var v = ta.a;
                    return "error" === t.category ? v = na.a : "special" === t.category && (v = ia.a),
                        e.activeSnackbar = r.a.createElement(q.k, {
                            layout: "vertical",
                            before: r.a.createElement("img", {
                                src: v,
                                alt: ""
                            }),
                            action: t.button,
                            onActionClick: function () {
                                t.onClick && t.onClick()
                            },
                            onClose: function () {
                                window.deleteSnackbar && window.deleteSnackbar()
                            }
                        }, t.message),
                        Object(u.a)({}, e)
                }
                if ("DELETE_SNACKBAR" === t.type)
                    return e.activeSnackbar = null,
                        Object(u.a)({}, e);
                if ("SET_ACTIVE_MODAL" === t.type)
                    return e.activeModal = t.id,
                        ca(),
                        Object(u.a)({}, e);
                if ("HIDE_ACTIVE_MODAL" === t.type)
                    return e.activeModal = null,
                        Object(u.a)({}, e);
                if ("SET_ACTIVE_WINDOW" === t.type) {
                    var f = t.id + "Window";
                    return e.activeWindow = t.id,
                        e[f].params = Object(u.a)({}, t.params),
                        "transfer" === t.id ? (e[f].fetching = !1,
                            e[f].is_finished = !1,
                            e[f].is_success = !0,
                            e[f].show_warning = !1) : "profile" === t.id && (e[f].user = {}),
                        ca(),
                        Object(u.a)({}, e)
                }
                if ("SET_WINDOW_PARAM" === t.type) {
                    var b = t.id + "Window";
                    return e[b][t.param] = t.value,
                        Object(u.a)({}, e)
                }
                if ("HIDE_ACTIVE_WINDOW" === t.type) {
                    var E = e.activeWindow + "Window";
                    return e.activeWindow = null,
                        e[E].params = {},
                        Object(u.a)({}, e)
                }
                if ("HANDLE_TRANSFER_WINDOW_EVENT" === t.type)
                    return "transfer:success" === t.event ? (e.transferWindow.fetching = !1,
                        e.transferWindow.is_finished = !0,
                        e.transferWindow.is_success = !0,
                        e.transferWindow.result = t.params) : "transfer:error" === t.event ? (e.transferWindow.fetching = !1,
                        e.transferWindow.is_finished = !0,
                        e.transferWindow.is_success = !1,
                        e.transferWindow.result = t.params) : "transfer:info" === t.event && e.transferWindow.params.user && e.transferWindow.params.user.id === t.params.user_id && (e.transferWindow.show_warning = t.params.params.show_warning),
                        Object(u.a)({}, e)
            }
            return e
        }

        var la = {
            object: {
                user_id: 1,
                first_name: "",
                last_name: "",
                avatar: "",
                avatar_max: "",
                balance: 0,
                earned_balance: 0,
                vkcoin_balance: 0,
                bonuses_sum: 0,
                improvements_sum: 0,
                is_onboard_completed: !0,
                is_extended_animation_disabled: !1,
                is_infected: !1,
                last_infection_date: !1,
                can_be_infected: !1,
                offline_died: !1,
                achievement_tooltip_used: !1,
                referer_id: 1,
                infections_count: 0,
                recoveries_count: 0,
                salvations_count: 0,
                infected_count: 0,
                are_notifications_enabled: !1
            },
            onboard: {
                referer: {
                    user_id: 0,
                    first_name: "",
                    last_name: "",
                    avatar: "",
                    avatar_max: "",
                    is_infected: !1
                }
            }
        };

        function ma() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : la
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if ("SET_USER_INITIAL_DATA" === t.type)
                return e.object = t.object,
                    Object(u.a)({}, e);
            if ("SET_ONBOARD_INITIAL_DATA" === t.type)
                return e.onboard = t.object,
                    Object(u.a)({}, e);
            if ("SET_USER_DATA" === t.type)
                return e.object[t.key] = t.value,
                    Object(u.a)({}, e);
            if ("UPDATE_USER_PROPERTY" === t.type) {
                var a = e.object[t.property];
                return "incr" === t.action ? a += t.value : "decr" === t.action ? a -= t.value : a = t.value,
                    e.object[t.property] = a,
                    Object(u.a)({}, e)
            }
            return "TICK_USER_SCROLL" === t.type ? (e.object.balance += e.object.bonuses_sum + 1,
                e.object.earned_balance += e.object.bonuses_sum + 1,
                Object(u.a)({}, e)) : "TICK_IMPROVEMENTS_UPDATE" === t.type ? (e.object.balance += e.object.improvements_sum,
                e.object.earned_balance += e.object.improvements_sum,
                Object(u.a)({}, e)) : e
        }

        var ua = {
            object: {
                group_id: 0,
                name: "",
                avatar: "",
                avatar_max: "",
                balance: ""
            }
        };

        function da() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ua
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_GROUP_INITIAL_DATA" === t.type ? (e.object = t.object,
                Object(u.a)({}, e)) : e
        }

        var pa = {
            items: []
        };

        function _a() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : pa
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_ITEMS_INITIAL_DATA" === t.type ? (e.items = t.data,
                Object(u.a)({}, e)) : e
        }

        var va = {
            items: []
        };

        function fa() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : va
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_BONUSES_INITIAL_DATA" === t.type ? (e.items = t.data,
                Object(u.a)({}, e)) : e
        }

        var ba = {
            users: {
                current_place: null,
                items: []
            },
            groups: {
                current_place: null,
                items: []
            }
        };

        function ha() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ba
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_RATINGS_INITIAL_DATA" === t.type ? (e.users = t.data.users,
                e.groups = t.data.groups,
                Object(u.a)({}, e)) : e
        }

        var Ea = {
            items: []
        };

        function ga() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ea
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "ADD_NEW_TRANSFER" === t.type ? (e.items = [t.data].concat(Object(c.a)(e.items)),
                Object(u.a)({}, e)) : "SET_TRANSFERS_INITIAL_DATA" === t.type ? (e.items = t.data,
                Object(u.a)({}, e)) : e
        }

        var ya = {
            items: []
        };

        function ka() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ya
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_IMPROVEMENTS_INITIAL_DATA" === t.type ? (e.items = t.data,
                Object(u.a)({}, e)) : e
        }

        var Ta = {
            items: []
        };

        function Na() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ta
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "SET_DISINFECTANTS_INITIAL_DATA" === t.type ? (e.items = t.data,
                Object(u.a)({}, e)) : e
        }

        var wa = {
            categories: [],
            openedCategoryId: null,
            openedCategoryAchievements: []
        };

        function La() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : wa
                , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if ("SET_ACHIEVEMENTS_INITIAL_DATA" === t.type)
                return e.categories = t.data,
                    Object(u.a)({}, e);
            if ("SET_ACHIEVEMENT_CATEGORY_DATA" === t.type) {
                if (e.openedCategoryId === t.category_id)
                    return e.openedCategoryAchievements = t.data,
                        Object(u.a)({}, e)
            } else if ("SET_OPENED_ACHIEVEMENTS_CATEGORY" === t.type)
                return e.openedCategoryId = t.id,
                    Object(u.a)({}, e);
            return e
        }

        var Aa = function (e) {
            return Object(Zt.combineReducers)({
                router: Object($t.a)(e),
                app: sa,
                user: ma,
                group: da,
                items: _a,
                bonuses: fa,
                ratings: ha,
                transfers: ga,
                improvements: ka,
                disinfectants: Na,
                achievements: La
            })
        }
            , ja = a(24)
            , Pa = (a(215),
            a(85))
            , Oa = Object(ja.a)()
            , Sa = Object(Zt.applyMiddleware)((function (e) {
                return function (e) {
                    return function (t) {
                        return e(t)
                    }
                }
            }
        ))
            , Ia = Object(Zt.createStore)(Aa(Oa), Sa);
        o.a.render(r.a.createElement(f.a, {
            store: Ia
        }, r.a.createElement(Pa.a, {
            basename: "/"
        }, r.a.createElement(Qt, null))), document.getElementById("root")),
        "serviceWorker" in navigator && navigator.serviceWorker.ready.then((function (e) {
                e.unregister()
            }
        ))
    }
]), [[143, 1, 2]]]);
